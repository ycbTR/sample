window.CodeMirror=function(){"use strict";function t(i,n){if(!(this instanceof t))return new t(i,n);this.options=n=n||{};for(var r in qr)!n.hasOwnProperty(r)&&qr.hasOwnProperty(r)&&(n[r]=qr[r]);d(n);var o="string"==typeof n.value?0:n.value.first,s=this.display=e(i,o);s.wrapper.CodeMirror=this,c(this),n.autofocus&&!Mr&&ce(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new zn},a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=n.value;"string"==typeof l&&(l=new ro(n.value,n.mode)),ee(this,ln)(this,l),mr&&setTimeout(Qn(le,this,!0),20),he(this);var u;try{u=document.activeElement==s.input}catch(h){}u||n.autofocus&&!Mr?setTimeout(Qn(_e,this),20):Me(this),ee(this,function(){for(var t in Vr)Vr.propertyIsEnumerable(t)&&Vr[t](this,n[t],Jr);for(var e=0;Gr.length>e;++e)Gr[e](this)})()}function e(t,e){var i={},n=i.input=Xn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");yr?n.style.width="1000px":n.setAttribute("wrap","off"),_r&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),i.inputDiv=Xn("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),i.scrollbarH=Xn("div",[Xn("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),i.scrollbarV=Xn("div",[Xn("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),i.scrollbarFiller=Xn("div",null,"CodeMirror-scrollbar-filler"),i.lineDiv=Xn("div"),i.selectionDiv=Xn("div",null,null,"position: relative; z-index: 1"),i.cursor=Xn("div","\xa0","CodeMirror-cursor"),i.otherCursor=Xn("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"),i.measure=Xn("div",null,"CodeMirror-measure"),i.lineSpace=Xn("div",[i.measure,i.selectionDiv,i.lineDiv,i.cursor,i.otherCursor],null,"position: relative; outline: none"),i.mover=Xn("div",[Xn("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Xn("div",[i.mover],"CodeMirror-sizer"),i.heightForcer=Xn("div",null,null,"position: absolute; height: "+co+"px; width: 1px;"),i.gutters=Xn("div",null,"CodeMirror-gutters"),i.lineGutter=null;var r=Xn("div",[i.sizer,i.heightForcer,i.gutters],null,"position: relative; min-height: 100%");return i.scroller=Xn("div",[r],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Xn("div",[i.inputDiv,i.scrollbarH,i.scrollbarV,i.scrollbarFiller,i.scroller],"CodeMirror"),gr&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),t.appendChild?t.appendChild(i.wrapper):t(i.wrapper),_r&&(n.style.width="0px"),yr||(i.scroller.draggable=!0),kr?(i.inputDiv.style.height="1px",i.inputDiv.style.position="absolute"):gr&&(i.scrollbarH.style.minWidth=i.scrollbarV.style.minWidth="18px"),i.viewOffset=i.lastSizeC=0,i.showingFrom=i.showingTo=e,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.prevInput="",i.alignWidgets=!1,i.pollingFast=!1,i.poll=new zn,i.draggingText=!1,i.cachedCharWidth=i.cachedTextHeight=null,i.measureLineCache=[],i.measureLineCachePos=0,i.inaccurateSelection=!1,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i}function i(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,A(e,100),e.state.modeGen++,e.curOp&&re(e)}function n(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),h(t)),o(t),re(t),U(t),setTimeout(function(){p(t.display,t.doc.height)},100)}function r(t){var e=G(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/X(t.display)-3);return function(r){return Ii(t.doc,r)?0:i?(Math.ceil(r.text.length/n)||1)*e:e}}function o(t){var e=t.doc,i=r(t);e.iter(function(t){var e=i(t);e!=t.height&&dn(t,e)})}function s(t){var e=Zr[t.options.keyMap].style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(e?" cm-keymap-"+e:"")}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),U(t)}function l(t){c(t),re(t)}function c(t){var e=t.display.gutters,i=t.options.gutters;Zn(e);for(var n=0;i.length>n;++n){var r=i[n],o=e.appendChild(Xn("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none"}function u(t,e){if(0==e.height)return 0;for(var i,n=e.text.length,r=e;i=Oi(r);){var o=i.find();r=cn(t,o.from.line),n+=o.from.ch-o.to.ch}for(r=e;i=ji(r);){var o=i.find();n-=r.text.length-o.from.ch,r=cn(t,o.to.line),n+=r.text.length-o.to.ch}return n}function h(t){var e=t.display,i=t.doc;e.maxLine=cn(i,i.first),e.maxLineLength=u(i,e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var n=u(i,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function d(t){for(var e=!1,i=0;t.gutters.length>i;++i)"CodeMirror-linenumbers"==t.gutters[i]&&(t.lineNumbers?e=!0:t.gutters.splice(i--,1));!e&&t.lineNumbers&&t.gutters.push("CodeMirror-linenumbers")}function p(t,e){var i=e+I(t);t.sizer.style.minHeight=t.heightForcer.style.top=i+"px";var n=Math.max(i,t.scroller.scrollHeight),r=t.scroller.scrollWidth>t.scroller.clientWidth,o=n>t.scroller.clientHeight;o?(t.scrollbarV.style.display="block",t.scrollbarV.style.bottom=r?nr(t.measure)+"px":"0",t.scrollbarV.firstChild.style.height=n-t.scroller.clientHeight+t.scrollbarV.clientHeight+"px"):t.scrollbarV.style.display="",r?(t.scrollbarH.style.display="block",t.scrollbarH.style.right=o?nr(t.measure)+"px":"0",t.scrollbarH.firstChild.style.width=t.scroller.scrollWidth-t.scroller.clientWidth+t.scrollbarH.clientWidth+"px"):t.scrollbarH.style.display="",r&&o?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=t.scrollbarFiller.style.width=nr(t.measure)+"px"):t.scrollbarFiller.style.display="",Sr&&0===nr(t.measure)&&(t.scrollbarV.style.minWidth=t.scrollbarH.style.minHeight=Tr?"18px":"12px")}function f(t,e,i){var n=t.scroller.scrollTop,r=t.wrapper.clientHeight;"number"==typeof i?n=i:i&&(n=i.top,r=i.bottom-i.top),n=Math.floor(n-P(t));var o=Math.ceil(n+r);return{from:fn(e,n),to:fn(e,o)}}function m(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=y(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,r=i+"px",o=e.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var s=0,a=o.alignable;a.length>s;++s)a[s].style.left=r;t.options.fixedGutter&&(e.gutters.style.left=i+n+"px")}}function g(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=v(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(Xn("div",[Xn("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s),n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function v(t,e){return t.lineNumberFormatter(e+t.firstLineNumber)+""}function y(t){return ir(t.scroller).left-ir(t.sizer).left}function b(t,e,i){var n=t.display.showingFrom,r=t.display.showingTo,o=w(t,e,i);return o&&(Fn(t,"update",t),(t.display.showingFrom!=n||t.display.showingTo!=r)&&Fn(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo)),_(t),p(t.display,t.doc.height),o}function w(t,e,i){var n=t.display,r=t.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=r.first,void(n.viewOffset=0);var o=f(n,r,i);if(!(0==e.length&&o.from>n.showingFrom&&o.to<n.showingTo)){g(t)&&(e=[{from:r.first,to:r.first+r.size}]);var s=n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";n.scrollbarH.style.left=t.options.fixedGutter?s:"0";var a=1/0;if(t.options.lineNumbers)for(var l=0;e.length>l;++l)if(e[l].diff){a=e[l].from;break}var c=r.first+r.size,u=Math.max(o.from-t.options.viewportMargin,r.first),h=Math.min(c,o.to+t.options.viewportMargin);if(u>n.showingFrom&&20>u-n.showingFrom&&(u=Math.max(r.first,n.showingFrom)),n.showingTo>h&&20>n.showingTo-h&&(h=Math.min(c,n.showingTo)),$r)for(u=pn(Pi(r,cn(r,u)));c>h&&Ii(r,cn(r,h));)++h;var d=[{from:Math.max(n.showingFrom,r.first),to:Math.min(n.showingTo,c)}];if(d=d[0].from>=d[0].to?[]:C(d,e),$r)for(var l=0;d.length>l;++l)for(var p,m=d[l];p=ji(cn(r,m.to-1));){var v=p.find().from.line;if(!(v>m.from)){d.splice(l--,1);break}m.to=v}for(var y=0,l=0;d.length>l;++l){var m=d[l];u>m.from&&(m.from=u),m.to>h&&(m.to=h),m.from>=m.to?d.splice(l--,1):y+=m.to-m.from}if(y==h-u&&u==n.showingFrom&&h==n.showingTo)return void x(t);d.sort(function(t,e){return t.from-e.from});var b=document.activeElement;.7*(h-u)>y&&(n.lineDiv.style.display="none"),S(t,u,h,d,a),n.lineDiv.style.display="",document.activeElement!=b&&b.offsetHeight&&b.focus();var k=u!=n.showingFrom||h!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;k&&(n.lastSizeC=n.wrapper.clientHeight),n.showingFrom=u,n.showingTo=h,A(t,100);for(var T,D=n.lineDiv.offsetTop,_=n.lineDiv.firstChild;_;_=_.nextSibling)if(_.lineObj){if(gr){var M=_.offsetTop+_.offsetHeight;T=M-D,D=M}else{var N=ir(_);T=N.bottom-N.top}var E=_.lineObj.height-T;if(2>T&&(T=G(n)),E>.001||-.001>E){dn(_.lineObj,T);var L=_.lineObj.widgets;if(L)for(var l=0;L.length>l;++l)L[l].height=L[l].node.offsetHeight}}return x(t),f(n,r,i).to>h&&w(t,[],i),!0}}function x(t){var e=t.display.viewOffset=mn(t,cn(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function C(t,e){for(var i=0,n=e.length||0;n>i;++i){for(var r=e[i],o=[],s=r.diff||0,a=0,l=t.length;l>a;++a){var c=t[a];r.to<=c.from&&r.diff?o.push({from:c.from+s,to:c.to+s}):r.to<=c.from||r.from>=c.to?o.push(c):(r.from>c.from&&o.push({from:c.from,to:r.from}),r.to<c.to&&o.push({from:r.to+s,to:c.to+s}))}t=o}return t}function k(t){for(var e=t.display,i={},n={},r=e.gutters.firstChild,o=0;r;r=r.nextSibling,++o)i[t.options.gutters[o]]=r.offsetLeft,n[t.options.gutters[o]]=r.offsetWidth;return{fixedPos:y(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function S(t,e,i,n,r){function o(e){var i=e.nextSibling;return yr&&Nr&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),i}var s=k(t),a=t.display,l=t.options.lineNumbers;n.length||yr&&t.display.currentWheelTarget||Zn(a.lineDiv);var c=a.lineDiv,u=c.firstChild,h=n.shift(),d=e;for(t.doc.iter(e,i,function(e){if(h&&h.to==d&&(h=n.shift()),Ii(t.doc,e)){if(0!=e.height&&dn(e,0),e.widgets&&u.previousSibling)for(var i=0;e.widgets.length>i;++i)if(e.widgets[i].showIfHidden){var a=u.previousSibling;if(/pre/i.test(a.nodeName)){var p=Xn("div",null,null,"position: relative");a.parentNode.replaceChild(p,a),p.appendChild(a),a=p}var f=a.appendChild(Xn("div",[e.widgets[i].node],"CodeMirror-linewidget"));D(e.widgets[i],f,a,s)}}else if(h&&d>=h.from&&h.to>d){for(;u.lineObj!=e;)u=o(u);l&&d>=r&&u.lineNumber&&er(u.lineNumber,v(t.options,d)),u=u.nextSibling}else{if(e.widgets)for(var m,g=0,y=u;y&&20>g;++g,y=y.nextSibling)if(y.lineObj==e&&/div/i.test(y.nodeName)){m=y;break}var b=T(t,e,d,s,m);if(b!=m)c.insertBefore(b,u);else{for(;u!=m;)u=o(u);u=u.nextSibling}b.lineObj=e}++d});u;)u=o(u)}function T(t,e,i,n,r){var o,s=Gi(t,e),a=e.gutterMarkers,l=t.display;if(!(t.options.lineNumbers||a||e.bgClass||e.wrapClass||e.widgets))return s;if(r){r.alignable=null;for(var c,u=!0,h=0,d=r.firstChild;d;d=c)if(c=d.nextSibling,/\bCodeMirror-linewidget\b/.test(d.className)){for(var p=0,f=!0;e.widgets.length>p;++p){var m=e.widgets[p],g=!1;if(m.above||(g=f,f=!1),m.node==d.firstChild){D(m,d,r,n),++h,g&&r.insertBefore(s,d);break}}if(p==e.widgets.length){u=!1;break}}else r.removeChild(d);u&&h==e.widgets.length&&(o=r,r.className=e.wrapClass||"")}if(o||(o=Xn("div",null,e.wrapClass,"position: relative"),o.appendChild(s)),e.bgClass&&o.insertBefore(Xn("div",null,e.bgClass+" CodeMirror-linebackground"),o.firstChild),t.options.lineNumbers||a){var y=o.insertBefore(Xn("div",null,null,"position: absolute; left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),o.firstChild);if(t.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(y),!t.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(o.lineNumber=y.appendChild(Xn("div",v(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),a)for(var b=0;t.options.gutters.length>b;++b){var w=t.options.gutters[b],x=a.hasOwnProperty(w)&&a[w];x&&y.appendChild(Xn("div",[x],"CodeMirror-gutter-elt","left: "+n.gutterLeft[w]+"px; width: "+n.gutterWidth[w]+"px"))}}if(gr&&(o.style.zIndex=2),e.widgets&&o!=r)for(var p=0,C=e.widgets;C.length>p;++p){var m=C[p],k=Xn("div",[m.node],"CodeMirror-linewidget");D(m,k,o,n),m.above?o.insertBefore(k,t.options.lineNumbers&&0!=e.height?y:s):o.appendChild(k),Fn(m,"redraw")}return o}function D(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function _(t){var e=t.display,i=We(t.doc.sel.from,t.doc.sel.to);i||t.options.showCursorWhenSelecting?M(t):e.cursor.style.display=e.otherCursor.style.display="none",i?e.selectionDiv.style.display="none":N(t);var n=J(t,t.doc.sel.head,"div"),r=ir(e.wrapper),o=ir(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+o.top-r.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+o.left-r.left))+"px"}function M(t){var e=t.display,i=J(t,t.doc.sel.head,"div");e.cursor.style.left=i.left+"px",e.cursor.style.top=i.top+"px",e.cursor.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",e.cursor.style.display="",i.other?(e.otherCursor.style.display="",e.otherCursor.style.left=i.other.left+"px",e.otherCursor.style.top=i.other.top+"px",e.otherCursor.style.height=.85*(i.other.bottom-i.other.top)+"px"):e.otherCursor.style.display="none"}function N(t){function e(t,e,i,n){0>e&&(e=0),s.appendChild(Xn("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==i?a-t:i)+"px; height: "+(n-e)+"px"))}function i(i,n,o,s){function c(e){return q(t,Re(i,e),"div",u)}var u=cn(r,i),h=u.text.length,d=s?1/0:-1/0;return or(gn(u),n||0,null==o?h:o,function(t,i,r){var u=c("rtl"==r?i-1:t),p=c("rtl"==r?t:i-1),f=u.left,m=p.right;p.top-u.top>3&&(e(f,u.top,null,u.bottom),f=l,u.bottom<p.top&&e(f,u.bottom,null,p.top)),null==o&&i==h&&(m=a),null==n&&0==t&&(f=l),d=s?Math.min(p.top,d):Math.max(p.bottom,d),l+1>f&&(f=l),e(f,p.top,m-f,p.bottom)}),d}var n=t.display,r=t.doc,o=t.doc.sel,s=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,l=F(t.display);if(o.from.line==o.to.line)i(o.from.line,o.from.ch,o.to.ch);else{for(var c,u,h=cn(r,o.from.line),d=h,p=[o.from.line,o.from.ch];c=ji(d);){var f=c.find();if(p.push(f.from.ch,f.to.line,f.to.ch),f.to.line==o.to.line){p.push(o.to.ch),u=!0;break}d=cn(r,f.to.line)}if(u)for(var m=0;p.length>m;m+=3)i(p[m],p[m+1],p[m+2]);else{var g,v,y=cn(r,o.to.line);g=o.from.ch?i(o.from.line,o.from.ch,null,!1):mn(t,h)-n.viewOffset,v=o.to.ch?i(o.to.line,Oi(y)?null:0,o.to.ch,!0):mn(t,y)-n.viewOffset,v>g&&e(l,g,null,v)}}tr(n.selectionDiv,s),n.selectionDiv.style.display=""}function E(t){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",e.blinker=setInterval(function(){e.cursor.offsetHeight&&(e.cursor.style.visibility=e.otherCursor.style.visibility=(i=!i)?"":"hidden")},t.options.cursorBlinkRate)}function A(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,Qn(L,t))}function L(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var i,n=+new Date+t.options.workTime,r=pi(e.mode,j(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(s){if(e.frontier>=t.display.showingFrom){var a=s.styles;s.styles=Ji(t,s,r);for(var l=!a||a.length!=s.styles.length,c=0;!l&&a.length>c;++c)l=a[c]!=s.styles[c];l&&(i&&i.end==e.frontier?i.end++:o.push(i={start:e.frontier,end:e.frontier+1})),s.stateAfter=pi(e.mode,r)}else Qi(t,s,r),s.stateAfter=0==e.frontier%5?pi(e.mode,r):null;return++e.frontier,+new Date>n?(A(t,t.options.workDelay),!0):void 0}),o.length&&ee(t,function(){for(var t=0;o.length>t;++t)re(this,o[t].start,o[t].end)})()}}function O(t,e){for(var i,n,r=t.doc,o=e,s=e-100;o>s;--o){if(r.first>=o)return r.first;var a=cn(r,o-1);if(a.stateAfter)return o;var l=Rn(a.text,null,t.options.tabSize);(null==n||i>l)&&(n=o-1,i=l)}return n}function j(t,e){var i=t.doc,n=t.display;if(!i.mode.startState)return!0;var r=O(t,e),o=r>i.first&&cn(i,r-1).stateAfter;return o=o?pi(i.mode,o):fi(i.mode),i.iter(r,e,function(s){Qi(t,s,o);var a=r==e-1||0==r%5||r>=n.showingFrom&&n.showingTo>r;s.stateAfter=a?pi(i.mode,o):null,++r}),o}function P(t){return t.lineSpace.offsetTop}function I(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function F(t){var e=tr(t.measure,Xn("pre",null,null,"text-align: left")).appendChild(Xn("span","x"));return e.offsetLeft}function $(t,e,i,n){var r=-1;n=n||z(t,e);for(var o=i;;o+=r){var s=n[o];if(s)break;0>r&&0==o&&(r=1)}return{left:i>o?s.right:s.left,right:o>i?s.left:s.right,top:s.top,bottom:s.bottom}}function H(t,e){for(var i=t.display.measureLineCache,n=0;i.length>n;++n){var r=i[n];if(r.text==e.text&&r.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==r.width&&r.classes==e.textClass+"|"+e.bgClass+"|"+e.wrapClass)return r.measure}}function z(t,e){var i=H(t,e);if(!i){i=R(t,e);var n=t.display.measureLineCache,r={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:i,classes:e.textClass+"|"+e.bgClass+"|"+e.wrapClass};16==n.length?n[++t.display.measureLineCachePos%16]=r:n.push(r)}return i}function R(t,e){var i=t.display,n=Yn(e.text.length),r=Gi(t,e,n);if(mr&&!gr&&!t.options.lineWrapping&&r.childNodes.length>100){for(var o=document.createDocumentFragment(),s=10,a=r.childNodes.length,l=0,c=Math.ceil(a/s);c>l;++l){for(var u=Xn("div",null,null,"display: inline-block"),h=0;s>h&&a;++h)u.appendChild(r.firstChild),--a;o.appendChild(u)}r.appendChild(o)}tr(i.measure,r);var d=ir(i.lineDiv),p=[],f=Yn(e.text.length),m=r.offsetHeight;vr&&i.measure.first!=r&&tr(i.measure,r);for(var g,l=0;n.length>l;++l)if(g=n[l]){for(var v=ir(g),y=Math.max(0,v.top-d.top),b=Math.min(v.bottom-d.top,m),h=0;p.length>h;h+=2){var w=p[h],x=p[h+1];if(!(w>b||y>x)&&(y>=w&&x>=b||w>=y&&b>=x||Math.min(b,x)-Math.max(y,w)>=b-y>>1)){p[h]=Math.min(y,w),p[h+1]=Math.max(b,x);break}}h==p.length&&p.push(y,b);var C=v.right;g.measureRight&&(C=ir(g.measureRight).left),f[l]={left:v.left-d.left,right:C-d.left,top:h}}for(var g,l=0;f.length>l;++l)if(g=f[l]){var k=g.top;g.top=p[k],g.bottom=p[k+1]}return f}function W(t,e){var i=!1;if(e.markedSpans)for(var n=0;e.markedSpans>n;++n){var r=e.markedSpans[n];!r.collapsed||null!=r.to&&r.to!=e.text.length||(i=!0)}var o=!i&&H(t,e);if(o)return $(t,e,e.text.length,o).right;var s=Gi(t,e),a=s.appendChild(rr(t.display.measure));return tr(t.display.measure,s),ir(a).right-ir(t.display.lineDiv).left}function U(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=null,t.display.maxLineChanged=!0,t.display.lineNumChars=null}function B(t,e,i,n){if(e.widgets)for(var r=0;e.widgets.length>r;++r)if(e.widgets[r].above){var o=Ri(e.widgets[r]);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=mn(t,e);if("local"!=n&&(s-=t.display.viewOffset),"page"==n){var a=ir(t.display.lineSpace);s+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var l=a.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function V(t,e,i){if("div"==i)return e;var n=e.left,r=e.top;"page"==i&&(n-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,r-=window.pageYOffset||(document.documentElement||document.body).scrollTop);var o=ir(t.display.lineSpace);if(n-=o.left,r-=o.top,"local"==i||!i){var s=ir(t.display.wrapper);n-=s.left,r-=s.top}return{left:n,top:r}}function q(t,e,i,n){return n||(n=cn(t.doc,e.line)),B(t,n,$(t,n,e.ch),i)}function J(t,e,i,n,r){function o(e,o){var s=$(t,n,e,r);return o?s.left=s.right:s.right=s.left,B(t,n,s,i)}n=n||cn(t.doc,e.line),r||(r=z(t,n));var s=gn(n),a=e.ch;if(!s)return o(a);for(var l,c,u=s[0].level,h=0;s.length>h;++h){var d,p,f=s[h],m=f.level%2;if(a>f.from&&f.to>a)return o(a,m);var g=m?f.to:f.from,v=m?f.from:f.to;if(g==a)p=h&&f.level<(d=s[h-1]).level?o(d.level%2?d.from:d.to-1,!0):o(m&&f.from!=f.to?a-1:a),m==u?l=p:c=p;else if(v==a){var d=s.length-1>h&&s[h+1];if(!m&&d&&d.from==d.to)continue;p=d&&f.level<d.level?o(d.level%2?d.to-1:d.from):o(m?a:a-1,!0),m==u?l=p:c=p}}return u&&!a&&(c=o(s[0].to-1)),l?(c&&(l.other=c),l):c}function Y(t,e,i){var n=new Re(t,e);return i&&(n.outside=!0),n}function Q(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,0>i)return Y(n.first,0,!0);var r=fn(n,i),o=n.first+n.size-1;if(r>o)return Y(n.first+n.size-1,cn(n,o).text.length,!0);for(0>e&&(e=0);;){var s=cn(n,r),a=K(t,s,r,e,i),l=ji(s),c=l&&l.find();if(!(l&&a.ch>=c.from.ch))return a;r=c.to.line}}function K(t,e,i,n,r){function o(n){var r=J(t,Re(i,n),"line",e,c);return a=!0,s>r.bottom?r.left-l:r.top>s?r.left+l:(a=!1,r.left)}var s=r-mn(t,e),a=!1,l=2*t.display.wrapper.clientWidth,c=z(t,e),u=gn(e),h=e.text.length,d=lr(e),p=cr(e),f=o(d),m=a,g=o(p),v=a;if(n>g)return Y(i,p,v);for(;;){if(u?p==d||p==dr(e,d,1):1>=p-d){for(var y=g-n>n-f,b=y?d:p;fo.test(e.text.charAt(b));)++b;var w=Y(i,b,y?m:v);return w.after=y,w}var x=Math.ceil(h/2),C=d+x;if(u){C=d;for(var k=0;x>k;++k)C=dr(e,C,1)}var S=o(C);S>n?(p=C,g=S,(v=a)&&(g+=1e3),h-=x):(d=C,f=S,m=a,h=x)}}function G(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Lr){Lr=Xn("pre");for(var e=0;49>e;++e)Lr.appendChild(document.createTextNode("x")),Lr.appendChild(Xn("br"));Lr.appendChild(document.createTextNode("x"))}tr(t.measure,Lr);var i=Lr.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),Zn(t.measure),i||1}function X(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Xn("span","x"),i=Xn("pre",[e]);tr(t.measure,i);var n=e.offsetWidth;return n>2&&(t.cachedCharWidth=n),n||10}function Z(t){t.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Hr},lo++||(ao=[])}function te(t){var e=t.curOp,i=t.doc,n=t.display;if(t.curOp=null,e.updateMaxLine&&h(t),n.maxLineChanged&&!t.options.lineWrapping){var r=W(t,n.maxLine);n.sizer.style.minWidth=Math.max(0,r+3+co)+"px",n.maxLineChanged=!1;var o=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);i.scrollLeft>o&&!e.updateScrollPos&&be(t,Math.min(n.scroller.scrollLeft,o),!0)}var s,a;if(e.updateScrollPos)s=e.updateScrollPos;else if(e.selectionChanged&&n.scroller.clientHeight){var l=J(t,i.sel.head);s=ni(t,l.left,l.top,l.left,l.bottom)}(e.changes.length||s&&null!=s.scrollTop)&&(a=b(t,e.changes,s&&s.scrollTop),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!a&&e.selectionChanged&&_(t),e.updateScrollPos?(n.scroller.scrollTop=n.scrollbarV.scrollTop=i.scrollTop=s.scrollTop,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=i.scrollLeft=s.scrollLeft,m(t)):s&&ti(t),e.selectionChanged&&E(t),t.state.focused&&e.updateInput&&le(t,e.userSelChange);var c=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(c)for(var d=0;c.length>d;++d)c[d].lines.length||In(c[d],"hide");if(u)for(var d=0;u.length>d;++d)u[d].lines.length&&In(u[d],"unhide");var p;if(--lo||(p=ao,ao=null),e.textChanged&&In(t,"change",t,e.textChanged),e.selectionChanged&&In(t,"cursorActivity",t),p)for(var d=0;p.length>d;++d)p[d]()}function ee(t,e){return function(){var i=t||this,n=!i.curOp;n&&Z(i);try{var r=e.apply(i,arguments)}finally{n&&te(i)}return r}}function ie(t){return function(){var e,i=this.cm&&!this.cm.curOp;i&&Z(this.cm);try{e=t.apply(this,arguments)}finally{i&&te(this.cm)}return e}}function ne(t,e){var i,n=!t.curOp;n&&Z(t);try{i=e()}finally{n&&te(t)}return i}function re(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:i,diff:n})}function oe(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){ae(t),t.state.focused&&oe(t)})}function se(t){function e(){var n=ae(t);n||i?(t.display.pollingFast=!1,oe(t)):(i=!0,t.display.poll.set(60,e))}var i=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function ae(t){var e=t.display.input,i=t.display.prevInput,n=t.doc,r=n.sel;if(!t.state.focused||wo(e)||ue(t))return!1;var o=e.value;if(o==i&&We(r.from,r.to))return!1;if(mr&&o&&0===e.selectionStart)return le(t,!0),!1;var s=!t.curOp;s&&Z(t),r.shift=!1;for(var a=0,l=Math.min(i.length,o.length);l>a&&i[a]==o[a];)++a;var c=r.from,u=r.to;i.length>a?c=Re(c.line,c.ch-(i.length-a)):t.state.overwrite&&We(c,u)&&!t.state.pasteIncoming&&(u=Re(u.line,Math.min(cn(n,u.line).text.length,u.ch+(o.length-a))));var h=t.curOp.updateInput;return je(t.doc,{from:c,to:u,text:bo(o.slice(a)),origin:t.state.pasteIncoming?"paste":"+input"},"end"),t.curOp.updateInput=h,o.length>1e3||o.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=o,s&&te(t),t.state.pasteIncoming=!1,!0}function le(t,e){var i,n,r=t.doc;We(r.sel.from,r.sel.to)?e&&(t.display.prevInput=t.display.input.value=""):(t.display.prevInput="",i=xo&&(r.sel.to.line-r.sel.from.line>100||(n=t.getSelection()).length>1e3),t.display.input.value=i?"-":n||t.getSelection(),t.state.focused&&Bn(t.display.input)),t.display.inaccurateSelection=i}function ce(t){"nocursor"==t.options.readOnly||Mr&&document.activeElement==t.display.input||t.display.input.focus()}function ue(t){return t.options.readOnly||t.doc.cantEdit}function he(t){function e(){t.state.focused&&setTimeout(Qn(ce,t),0)}function i(){s.cachedCharWidth=s.cachedTextHeight=null,U(t),ne(t,Qn(re,t))}function n(){for(var t=s.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(n,5e3):Pn(window,"resize",i)}function r(e){t.options.onDragEvent&&t.options.onDragEvent(t,Mn(e))||An(e)}function o(){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=t.getSelection(),Bn(s.input))}var s=t.display;jn(s.scroller,"mousedown",ee(t,fe)),jn(s.scroller,"dblclick",ee(t,Nn)),jn(s.lineSpace,"selectstart",function(t){de(s,t)||Nn(t)}),Ir||jn(s.scroller,"contextmenu",function(e){Ne(t,e)}),jn(s.scroller,"scroll",function(){s.scroller.clientHeight&&(ye(t,s.scroller.scrollTop),be(t,s.scroller.scrollLeft,!0),In(t,"scroll",t))}),jn(s.scrollbarV,"scroll",function(){s.scroller.clientHeight&&ye(t,s.scrollbarV.scrollTop)}),jn(s.scrollbarH,"scroll",function(){s.scroller.clientHeight&&be(t,s.scrollbarH.scrollLeft)}),jn(s.scroller,"mousewheel",function(e){we(t,e)}),jn(s.scroller,"DOMMouseScroll",function(e){we(t,e)}),jn(s.scrollbarH,"mousedown",e),jn(s.scrollbarV,"mousedown",e),jn(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),jn(window,"resize",i),setTimeout(n,5e3),jn(s.input,"keyup",ee(t,function(e){t.options.onKeyEvent&&t.options.onKeyEvent(t,Mn(e))||16==e.keyCode&&(t.doc.sel.shift=!1)})),jn(s.input,"input",Qn(se,t)),jn(s.input,"keydown",ee(t,Te)),jn(s.input,"keypress",ee(t,De)),jn(s.input,"focus",Qn(_e,t)),jn(s.input,"blur",Qn(Me,t)),t.options.dragDrop&&(jn(s.scroller,"dragstart",function(e){ve(t,e)}),jn(s.scroller,"dragenter",r),jn(s.scroller,"dragover",r),jn(s.scroller,"drop",ee(t,me))),jn(s.scroller,"paste",function(e){de(s,e)||(ce(t),se(t))}),jn(s.input,"paste",function(){t.state.pasteIncoming=!0,se(t)}),jn(s.input,"cut",o),jn(s.input,"copy",o),kr&&jn(s.sizer,"mouseup",function(){document.activeElement==s.input&&s.input.blur(),ce(t)})}function de(t,e){for(var i=Ln(e);i!=t.wrapper;i=i.parentNode){if(!i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(i.className)||i.parentNode==t.sizer&&i!=t.mover)return!0}}function pe(t,e,i){var n=t.display;if(!i){var r=Ln(e);if(r==n.scrollbarH||r==n.scrollbarH.firstChild||r==n.scrollbarV||r==n.scrollbarV.firstChild||r==n.scrollbarFiller)return null}var o,s,a=ir(n.lineSpace);try{o=e.clientX,s=e.clientY}catch(e){return null}return Q(t,o-a.left,s-a.top)}function fe(t){function e(t){if("single"==u)return void Qe(r.doc,qe(s,l),t);if(m=qe(s,m),g=qe(s,g),"double"==u){var e=ui(cn(s,t.line).text,t);Ue(t,m)?Qe(r.doc,e.from,g):Qe(r.doc,m,e.to)}else"triple"==u&&(Ue(t,m)?Qe(r.doc,g,qe(s,Re(t.line,0))):Qe(r.doc,m,qe(s,Re(t.line+1,0))))}function i(t){var n=++y,a=pe(r,t,!0);if(a)if(We(a,d)){var l=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;l&&setTimeout(ee(r,function(){y==n&&(o.scroller.scrollTop+=l,i(t))}),50)}else{r.state.focused||_e(r),d=a,e(a);var c=f(o,s);(a.line>=c.to||a.line<c.from)&&setTimeout(ee(r,function(){y==n&&i(t)}),150)}}function n(t){y=1/0;var i=pe(r,t);i&&e(i),Nn(t),ce(r),Pn(document,"mousemove",b),Pn(document,"mouseup",w)}var r=this,o=r.display,s=r.doc,a=s.sel;if(a.shift=t.shiftKey,de(o,t))return void(yr||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)));if(!ge(r,t)){var l=pe(r,t);switch(On(t)){case 3:return void(Ir&&Ne.call(r,r,t));case 2:return l&&Qe(r.doc,l),setTimeout(Qn(ce,r),20),void Nn(t)}if(!l)return void(Ln(t)==o.scroller&&Nn(t));r.state.focused||_e(r);var c=+new Date,u="single";if(jr&&jr.time>c-400&&We(jr.pos,l))u="triple",Nn(t),setTimeout(Qn(ce,r),20),hi(r,l.line);else if(Or&&Or.time>c-400&&We(Or.pos,l)){u="double",jr={time:c,pos:l},Nn(t);var h=ui(cn(s,l.line).text,l);Qe(r.doc,h.from,h.to)}else Or={time:c,pos:l};var d=l;if(r.options.dragDrop&&mo&&!ue(r)&&!We(a.from,a.to)&&!Ue(l,a.from)&&!Ue(a.to,l)&&"single"==u){var p=ee(r,function(e){yr&&(o.scroller.draggable=!1),r.state.draggingText=!1,Pn(document,"mouseup",p),Pn(o.scroller,"drop",p),10>Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)&&(Nn(e),Qe(r.doc,l),ce(r))});return yr&&(o.scroller.draggable=!0),r.state.draggingText=p,o.scroller.dragDrop&&o.scroller.dragDrop(),jn(document,"mouseup",p),void jn(o.scroller,"drop",p)}Nn(t),"single"==u&&Qe(r.doc,qe(s,l));var m=a.from,g=a.to,v=ir(o.wrapper),y=0,b=ee(r,function(t){mr||On(t)?i(t):n(t)}),w=ee(r,n);jn(document,"mousemove",b),jn(document,"mouseup",w)}}function me(t){var e=this;if(!(de(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,Mn(t)))){Nn(t);var i=pe(e,t,!0),n=t.dataTransfer.files;if(i&&!ue(e))if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),s=0,a=function(t,n){var a=new FileReader;a.onload=function(){o[n]=a.result,++s==r&&(i=qe(e.doc,i),je(e.doc,{from:i,to:i,text:bo(o.join("\n")),origin:"paste"},"around"))},a.readAsText(t)},l=0;r>l;++l)a(n[l],l);else{if(e.state.draggingText&&!Ue(i,e.doc.sel.from)&&!Ue(e.doc.sel.to,i))return e.state.draggingText(t),void setTimeout(Qn(ce,e),20);try{var o=t.dataTransfer.getData("Text");if(o){var c=e.doc.sel.from,u=e.doc.sel.to;Ge(e.doc,i,i),e.state.draggingText&&ze(e.doc,"",c,u,"paste"),e.replaceSelection(o,null,"paste"),ce(e),_e(e)}}catch(t){}}}}function ge(t,e){var i=t.display;try{var n=e.clientX,r=e.clientY}catch(e){return!1}if(n>=Math.floor(ir(i.gutters).right))return!1;if(Nn(e),!Hn(t,"gutterClick"))return!0;var o=ir(i.lineDiv);if(r>o.bottom)return!0;r-=o.top-i.viewOffset;for(var s=0;t.options.gutters.length>s;++s){var a=i.gutters.childNodes[s];if(a&&ir(a).right>=n){var l=fn(t.doc,r),c=t.options.gutters[s];Fn(t,"gutterClick",t,l,c,e);break}}return!0}function ve(t,e){if(!de(t.display,e)){var i=t.getSelection();if(e.dataTransfer.setData("Text",i),e.dataTransfer.setDragImage){var n=Xn("img",null,null,"position: fixed; left: 0; top: 0;");xr&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),Cr&&(t.display.dragImg?n=t.display.dragImg:(t.display.dragImg=n,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t.display.wrapper.appendChild(n))),e.dataTransfer.setDragImage(n,0,0),xr&&n.parentNode.removeChild(n)}}}function ye(t,e){2>Math.abs(t.doc.scrollTop-e)||(t.doc.scrollTop=e,fr||b(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),fr&&b(t,[]))}function be(t,e,i){(i?e==t.doc.scrollLeft:2>Math.abs(t.doc.scrollLeft-e))||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,m(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))
}function we(t,e){var i=e.wheelDeltaX,n=e.wheelDeltaY;if(null==i&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(i=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),n&&Nr&&yr)for(var r=e.target;r!=s;r=r.parentNode)if(r.lineObj){t.display.currentWheelTarget=r;break}var o=t.display,s=o.scroller;if(i&&!fr&&!xr&&null!=Rr)return n&&ye(t,Math.max(0,Math.min(s.scrollTop+n*Rr,s.scrollHeight-s.clientHeight))),be(t,Math.max(0,Math.min(s.scrollLeft+i*Rr,s.scrollWidth-s.clientWidth))),Nn(e),void(o.wheelStartX=null);if(n&&null!=Rr){var a=n*Rr,l=t.doc.scrollTop,c=l+o.wrapper.clientHeight;0>a?l=Math.max(0,l+a-50):c=Math.min(t.doc.height,c+a+50),b(t,[],{top:l,bottom:c})}20>zr&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=n,setTimeout(function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(Rr=(Rr*zr+i)/(zr+1),++zr)}},200)):(o.wheelDX+=i,o.wheelDY+=n))}function xe(t,e,i){if("string"==typeof e&&(e=Xr[e],!e))return!1;t.display.pollingFast&&ae(t)&&(t.display.pollingFast=!1);var n=t.doc,r=n.sel.shift,o=!1;try{ue(t)&&(t.state.suppressEdits=!0),i&&(n.sel.shift=!1),o=e(t)!=uo}finally{n.sel.shift=r,t.state.suppressEdits=!1}return o}function Ce(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function ke(t,e){var i=mi(t.options.keyMap),n=i.auto;clearTimeout(Wr),n&&!vi(e)&&(Wr=setTimeout(function(){mi(t.options.keyMap)==i&&(t.options.keyMap=n.call?n.call(null,t):n)},50));var r=yi(e,!0),o=!1;if(!r)return!1;var s=Ce(t);return o=e.shiftKey?gi("Shift-"+r,s,function(e){return xe(t,e,!0)})||gi(r,s,function(e){return"string"==typeof e&&/^go[A-Z]/.test(e)?xe(t,e):void 0}):gi(r,s,function(e){return xe(t,e)}),"stop"==o&&(o=!1),o&&(Nn(e),E(t),vr&&(e.oldKeyCode=e.keyCode,e.keyCode=0)),o}function Se(t,e,i){var n=gi("'"+i+"'",Ce(t),function(e){return xe(t,e,!0)});return n&&(Nn(e),E(t)),n}function Te(t){var e=this;if(e.state.focused||_e(e),mr&&27==t.keyCode&&(t.returnValue=!1),!e.options.onKeyEvent||!e.options.onKeyEvent(e,Mn(t))){var i=t.keyCode;e.doc.sel.shift=16==i||t.shiftKey;var n=ke(e,t);xr&&(Br=n?i:null,!n&&88==i&&!xo&&(Nr?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function De(t){var e=this;if(!e.options.onKeyEvent||!e.options.onKeyEvent(e,Mn(t))){var i=t.keyCode,n=t.charCode;if(xr&&i==Br)return Br=null,void Nn(t);if(!(xr&&(!t.which||10>t.which)||kr)||!ke(e,t)){var r=String.fromCharCode(null==n?i:n);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!ue(this)&&this.doc.mode.electricChars.indexOf(r)>-1&&setTimeout(ee(e,function(){si(e,e.doc.sel.to.line,"smart")}),75),Se(e,t,r)||se(e)}}}function _e(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(In(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),le(t,!0)),oe(t),E(t))}function Me(t){t.state.focused&&(In(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function Ne(t,e){function i(){if(n.inputDiv.style.position="relative",n.input.style.cssText=a,vr&&(n.scrollbarV.scrollTop=n.scroller.scrollTop=s),oe(t),null!=n.input.selectionStart&&(!mr||vr)){clearTimeout(Ur);var e=n.input.value=" "+(We(r.from,r.to)?"":n.input.value),i=0;n.prevInput=" ",n.input.selectionStart=1,n.input.selectionEnd=e.length;var o=function(){" "==n.prevInput&&0==n.input.selectionStart?ee(t,Xr.selectAll)(t):10>i++?Ur=setTimeout(o,500):le(t)};Ur=setTimeout(o,200)}}var n=t.display,r=t.doc.sel;if(!de(n,e)){var o=pe(t,e),s=n.scroller.scrollTop;if(o&&!xr){(We(r.from,r.to)||Ue(o,r.from)||!Ue(o,r.to))&&ee(t,Ge)(t.doc,o,o);var a=n.input.style.cssText;if(n.inputDiv.style.position="absolute",n.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",ce(t),le(t,!0),We(r.from,r.to)&&(n.input.value=n.prevInput=" "),Ir){An(e);var l=function(){Pn(window,"mouseup",l),setTimeout(i,20)};jn(window,"mouseup",l)}else setTimeout(i,50)}}}function Ee(t){return Re(t.from.line+t.text.length-1,Un(t.text).length+(1==t.text.length?t.from.ch:0))}function Ae(t,e,i){if(!Ue(e.from,i))return qe(t,i);var n=e.text.length-1-(e.to.line-e.from.line);if(i.line>e.to.line+n){var r=i.line-n,o=t.first+t.size-1;return r>o?Re(o,cn(t,o).text.length):Je(i,cn(t,r).text.length)}if(i.line==e.to.line+n)return Je(i,Un(e.text).length+(1==e.text.length?e.from.ch:0)+cn(t,e.to.line).text.length-e.to.ch);var s=i.line-e.from.line;return Je(i,e.text[s].length+(s?0:e.from.ch))}function Le(t,e,i){if(i&&"object"==typeof i)return{anchor:Ae(t,e,i.anchor),head:Ae(t,e,i.head)};if("start"==i)return{anchor:e.from,head:e.from};var n=Ee(e);if("around"==i)return{anchor:e.from,head:n};if("end"==i)return{anchor:n,head:n};var r=function(t){if(Ue(t,e.from))return t;if(!Ue(e.to,t))return n;var i=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=n.ch-e.to.ch),Re(i,r)};return{anchor:r(t.sel.anchor),head:r(t.sel.head)}}function Oe(t,e){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,update:function(e,i,n,r){e&&(this.from=qe(t,e)),i&&(this.to=qe(t,i)),n&&(this.text=n),void 0!==r&&(this.origin=r)},cancel:function(){this.canceled=!0}};return In(t,"beforeChange",t,i),t.cm&&In(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function je(t,e,i,n){if(t.cm){if(!t.cm.curOp)return ee(t.cm,je)(t,e,i,n);if(t.cm.state.suppressEdits)return}if(!(Hn(t,"beforeChange")||t.cm&&Hn(t.cm,"beforeChange"))||(e=Oe(t,e))){var r=Fr&&!n&&Ai(t,e.from,e.to);if(r){for(var o=r.length-1;o>=1;--o)Pe(t,{from:r[o].from,to:r[o].to,text:[""]});r.length&&Pe(t,{from:r[0].from,to:r[0].to,text:e.text},i)}else Pe(t,e,i)}}function Pe(t,e,i){var n=Le(t,e,i);wn(t,e,n,t.cm?t.cm.curOp.id:0/0),$e(t,e,n,Ni(t,e));var r=[];an(t,function(t,i){i||-1!=Vn(r,t.history)||(Dn(t.history,e),r.push(t.history)),$e(t,e,null,Ni(t,e))})}function Ie(t,e){if(!t.cm||!t.cm.state.suppressEdits){var i=t.history,n=("undo"==e?i.done:i.undone).pop();if(n){i.dirtyCounter+="undo"==e?-1:1;var r={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore};("undo"==e?i.undone:i.done).push(r);for(var o=n.changes.length-1;o>=0;--o){var s=n.changes[o];s.origin=e,r.changes.push(bn(t,s));var a=o?Le(t,s,null):{anchor:n.anchorBefore,head:n.headBefore};$e(t,s,a,Ei(t,s));var l=[];an(t,function(t,e){e||-1!=Vn(l,t.history)||(Dn(t.history,s),l.push(t.history)),$e(t,s,null,Ei(t,s))})}}}}function Fe(t,e){function i(t){return Re(t.line+e,t.ch)}t.first+=e,t.cm&&re(t.cm,t.first,t.first,e),t.sel.head=i(t.sel.head),t.sel.anchor=i(t.sel.anchor),t.sel.from=i(t.sel.from),t.sel.to=i(t.sel.to)}function $e(t,e,i,n){if(t.cm&&!t.cm.curOp)return ee(t.cm,$e)(t,e,i,n);if(e.to.line<t.first)return void Fe(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Fe(t,r),e={from:Re(t.first,0),to:Re(e.to.line+r,e.to.ch),text:[Un(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Re(o,cn(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=un(t,e.from,e.to),i||(i=Le(t,e,null)),t.cm?He(t.cm,e,n,i):rn(t,e,n,i)}}function He(t,e,i,n){var o=t.doc,s=t.display,a=e.from,l=e.to,c=!1,h=a.line;t.options.lineWrapping||(h=pn(Pi(o,cn(o,a.line))),o.iter(h,l.line+1,function(t){return t==s.maxLine?(c=!0,!0):void 0})),rn(o,e,i,n,r(t)),t.options.lineWrapping||(o.iter(h,a.line+e.text.length,function(t){var e=u(o,t);e>s.maxLineLength&&(s.maxLine=t,s.maxLineLength=e,s.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),o.frontier=Math.min(o.frontier,a.line),A(t,400);var d=e.text.length-(l.line-a.line)-1;if(re(t,a.line,l.line+1,d),Hn(t,"change")){var p={from:a,to:l,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var f=t.curOp.textChanged;f.next;f=f.next);f.next=p}else t.curOp.textChanged=p}}function ze(t,e,i,n,r){if(n||(n=i),Ue(n,i)){var o=n;n=i,i=o}"string"==typeof e&&(e=bo(e)),je(t,{from:i,to:n,text:e,origin:r},null)}function Re(t,e){return this instanceof Re?(this.line=t,void(this.ch=e)):new Re(t,e)}function We(t,e){return t.line==e.line&&t.ch==e.ch}function Ue(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function Be(t){return Re(t.line,t.ch)}function Ve(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function qe(t,e){if(e.line<t.first)return Re(t.first,0);var i=t.first+t.size-1;return e.line>i?Re(i,cn(t,i).text.length):Je(e,cn(t,e.line).text.length)}function Je(t,e){var i=t.ch;return null==i||i>e?Re(t.line,e):0>i?Re(t.line,0):t}function Ye(t,e){return e>=t.first&&t.first+t.size>e}function Qe(t,e,i,n){if(t.sel.shift||t.sel.extend){var r=t.sel.anchor;if(i){var o=Ue(e,r);o!=Ue(i,r)?(r=e,e=i):o!=Ue(e,i)&&(e=i)}Ge(t,r,e,n)}else Ge(t,e,i||e,n);t.cm&&(t.cm.curOp.userSelChange=!0)}function Ke(t,e,i){var n={anchor:e,head:i};return In(t,"beforeSelectionChange",t,n),t.cm&&In(t.cm,"beforeSelectionChange",t.cm,n),n.anchor=qe(t,n.anchor),n.head=qe(t,n.head),n}function Ge(t,e,i,n,r){if(!r&&Hn(t,"beforeSelectionChange")||t.cm&&Hn(t.cm,"beforeSelectionChange")){var o=Ke(t,e,i);i=o.head,e=o.anchor}var s=t.sel;if(s.goalColumn=null,(r||!We(e,s.anchor))&&(e=Ze(t,e,n,"push"!=r)),(r||!We(i,s.head))&&(i=Ze(t,i,n,"push"!=r)),!We(s.anchor,e)||!We(s.head,i)){s.anchor=e,s.head=i;var a=Ue(i,e);s.from=a?i:e,s.to=a?e:i,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0),Fn(t,"cursorActivity",t)}}function Xe(t){Ge(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function Ze(t,e,i,n){var r=!1,o=e,s=i||1;t.cantEdit=!1;t:for(;;){var a=cn(t,o.line);if(a.markedSpans)for(var l=0;a.markedSpans.length>l;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&(In(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find()[0>s?"from":"to"];if(We(h,o)&&(h.ch+=s,0>h.ch?h=h.line>t.first?qe(t,Re(h.line-1)):null:h.ch>a.text.length&&(h=h.line<t.first+t.size-1?Re(h.line+1,0):null),!h)){if(r)return n?(t.cantEdit=!0,Re(t.first,0)):Ze(t,e,i,!0);r=!0,h=e,s=-s}o=h;continue t}}return o}}function ti(t){var e=ei(t,t.doc.sel.head);if(t.state.focused){var i=t.display,n=ir(i.sizer),r=null,o=P(t.display);if(0>e.top+o+n.top?r=!0:e.bottom+o+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Dr){var s="none"==i.cursor.style.display;s&&(i.cursor.style.display="",i.cursor.style.left=e.left+"px",i.cursor.style.top=e.top-i.viewOffset+"px"),i.cursor.scrollIntoView(r),s&&(i.cursor.style.display="none")}}}function ei(t,e,i){for(null==i&&(i=0);;){var n=!1,r=J(t,e),o=ni(t,r.left,r.top-i,r.left,r.bottom+i),s=t.doc.scrollTop,a=t.doc.scrollLeft;if(null!=o.scrollTop&&(ye(t,o.scrollTop),Math.abs(t.doc.scrollTop-s)>1&&(n=!0)),null!=o.scrollLeft&&(be(t,o.scrollLeft),Math.abs(t.doc.scrollLeft-a)>1&&(n=!0)),!n)return r}}function ii(t,e,i,n,r){var o=ni(t,e,i,n,r);null!=o.scrollTop&&ye(t,o.scrollTop),null!=o.scrollLeft&&be(t,o.scrollLeft)}function ni(t,e,i,n,r){var o=t.display,s=P(o);i+=s,r+=s;var a=o.scroller.clientHeight-co,l=o.scroller.scrollTop,c={},u=t.doc.height+I(o),h=s+10>i,d=r+s>u-10;l>i?c.scrollTop=h?0:Math.max(0,i):r>l+a&&(c.scrollTop=(d?u:r)-a);var p=o.scroller.clientWidth-co,f=o.scroller.scrollLeft;e+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var m=o.gutters.offsetWidth,g=m+10>e;return f+m>e||g?(g&&(e=0),c.scrollLeft=Math.max(0,e-10-m)):n>p+f-3&&(c.scrollLeft=n+10-p),c}function ri(t,e,i){t.curOp.updateScrollPos={scrollLeft:e,scrollTop:i}}function oi(t,e,i){var n=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),r=t.display.scroller;n.scrollTop=Math.max(0,Math.min(r.scrollHeight-r.clientHeight,n.scrollTop+i)),n.scrollLeft=Math.max(0,Math.min(r.scrollWidth-r.clientWidth,n.scrollLeft+e))}function si(t,e,i,n){var r=t.doc;if(i||(i="add"),"smart"==i)if(t.doc.mode.indent)var o=j(t,e);else i="prev";var s,a=t.options.tabSize,l=cn(r,e),c=Rn(l.text,null,a),u=l.text.match(/^\s*/)[0];if("smart"==i&&(s=t.doc.mode.indent(o,l.text.slice(u.length),l.text),s==uo)){if(!n)return;i="prev"}"prev"==i?s=e>r.first?Rn(cn(r,e-1).text,null,a):0:"add"==i?s=c+t.options.indentUnit:"subtract"==i&&(s=c-t.options.indentUnit),s=Math.max(0,s);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(s/a);p;--p)d+=a,h+="	";s>d&&(h+=Wn(s-d)),h!=u&&ze(t.doc,h,Re(e,0),Re(e,u.length),"+input"),l.stateAfter=null}function ai(t,e,i){var n=e,r=e,o=t.doc;return"number"==typeof e?r=cn(o,Ve(o,e)):n=pn(e),null==n?null:i(r,n)?(re(t,n,n+1),r):null}function li(t,e,i,n,r){function o(){var e=a+i;return t.first>e||e>=t.first+t.size?u=!1:(a=e,c=cn(t,e))}function s(t){var e=(r?dr:pr)(c,l,i,!0);if(null==e){if(t||!o())return u=!1;l=r?(0>i?cr:lr)(c):0>i?c.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=cn(t,a),u=!0;if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=!0;!(0>i)||s(!p);p=!1){var f=c.text.charAt(l)||"\n",m=Kn(f)?"w":d?/\s/.test(f)?null:"p":null;if(h&&h!=m){0>i&&(i=1,s());break}if(m&&(h=m),i>0&&!s(!p))break}var g=Ze(t,Re(a,l),i,!0);return u||(g.hitSide=!0),g}function ci(t,e,i,n){var r,o=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+i*(a-(0>i?1.5:.5)*G(t.display))}else"line"==n&&(r=i>0?e.bottom+3:e.top-3);for(;;){var l=Q(t,s,r);if(!l.outside)break;if(0>i?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*i}return l}function ui(t,e){var i=e.ch,n=e.ch;if(t){e.after===!1||n==t.length?--i:++n;for(var r=t.charAt(i),o=Kn(r)?Kn:/\s/.test(r)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Kn(t)};i>0&&o(t.charAt(i-1));)--i;for(;t.length>n&&o(t.charAt(n));)++n}return{from:Re(e.line,i),to:Re(e.line,n)}}function hi(t,e){Qe(t.doc,Re(e,0),qe(t.doc,Re(e+1,0)))}function di(e,i,n,r){t.defaults[e]=i,n&&(Vr[e]=r?function(t,e,i){i!=Jr&&n(t,e,i)}:n)}function pi(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function fi(t,e,i){return t.startState?t.startState(e,i):!0}function mi(t){return"string"==typeof t?Zr[t]:t}function gi(t,e,i){function n(e){e=mi(e);var r=e[t];if(r===!1)return"stop";if(null!=r&&i(r))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return n(o);for(var s=0,a=o.length;a>s;++s){var l=n(o[s]);if(l)return l}return!1}for(var r=0;e.length>r;++r){var o=n(e[r]);if(o)return o}}function vi(t){var e=Co[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function yi(t,e){var i=Co[t.keyCode];return null==i||t.altGraphKey?!1:(t.altKey&&(i="Alt-"+i),(Pr?t.metaKey:t.ctrlKey)&&(i="Ctrl-"+i),(Pr?t.ctrlKey:t.metaKey)&&(i="Cmd-"+i),!e&&t.shiftKey&&(i="Shift-"+i),i)}function bi(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0}function wi(t,e){this.lines=[],this.type=e,this.doc=t}function xi(t,e,i,n,r){if(n&&n.shared)return ki(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return ee(t.cm,xi)(t,e,i,n,r);var o=new wi(t,r);if("range"==r&&!Ue(e,i))return o;n&&Jn(n,o),o.replacedWith&&(o.collapsed=!0,o.replacedWith=Xn("span",[o.replacedWith],"CodeMirror-widget")),o.collapsed&&($r=!0);var s,a,l,c=e.line,u=0,h=t.cm;if(t.iter(c,i.line+1,function(n){h&&o.collapsed&&!h.options.lineWrapping&&Pi(t,n)==h.display.maxLine&&(l=!0);var r={from:null,to:null,marker:o};u+=n.text.length,c==e.line&&(r.from=e.ch,u-=e.ch),c==i.line&&(r.to=i.ch,u-=n.text.length-i.ch),o.collapsed&&(c==i.line&&(a=Li(n,i.ch)),c==e.line?s=Li(n,e.ch):dn(n,0)),Di(n,r),++c}),o.collapsed&&t.iter(e.line,i.line+1,function(e){Ii(t,e)&&dn(e,0)}),o.clearOnEnter&&jn(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Fr=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed){if(s!=a)throw Error("Inserting collapsed marker overlapping an existing one");o.size=u,o.atomic=!0}return h&&(l&&(h.curOp.updateMaxLine=!0),(o.className||o.startStyle||o.endStyle||o.collapsed)&&re(h,e.line,i.line+1),o.atomic&&Xe(h)),o}function Ci(t,e){this.markers=t,this.primary=e;for(var i=0,n=this;t.length>i;++i)t[i].parent=this,jn(t[i],"clear",function(){n.clear()})}function ki(t,e,i,n,r){n=Jn(n),n.shared=!1;var o=[xi(t,e,i,n,r)],s=o[0],a=n.replacedWith;return an(t,function(t){a&&(n.replacedWith=a.cloneNode(!0)),o.push(xi(t,qe(t,e),qe(t,i),n,r));for(var l=0;t.linked.length>l;++l)if(t.linked[l].isParent)return;s=Un(o)}),new Ci(o,s)}function Si(t,e){if(t)for(var i=0;t.length>i;++i){var n=t[i];if(n.marker==e)return n}}function Ti(t,e){for(var i,n=0;t.length>n;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function Di(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function _i(t,e,i){if(t)for(var n,r=0;t.length>r;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?e>=o.from:e>o.from);if(a||"bookmark"==s.type&&o.from==e&&(!i||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push({from:o.from,to:l?null:o.to,marker:s})}}return n}function Mi(t,e,i){if(t)for(var n,r=0;t.length>r;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||"bookmark"==s.type&&o.from==e&&(!i||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?e>=o.from:e>o.from);(n||(n=[])).push({from:l?null:o.from-e,to:null==o.to?null:o.to-e,marker:s})}}return n}function Ni(t,e){var i=Ye(t,e.from.line)&&cn(t,e.from.line).markedSpans,n=Ye(t,e.to.line)&&cn(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,o=e.to.ch,s=We(e.from,e.to),a=_i(i,r,s),l=Mi(n,o,s),c=1==e.text.length,u=Un(e.text).length+(c?r:0);if(a)for(var h=0;a.length>h;++h){var d=a[h];if(null==d.to){var p=Si(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=r}}if(l)for(var h=0;l.length>h;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var p=Si(a,d.marker);p||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}var f=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(var h=0;a.length>h;++h)null==a[h].to&&(m||(m=[])).push({from:null,to:null,marker:a[h].marker});for(var h=0;g>h;++h)f.push(m);f.push(l)}return f}function Ei(t,e){var i=Cn(t,e),n=Ni(t,e);if(!i)return n;if(!n)return i;for(var r=0;i.length>r;++r){var o=i[r],s=n[r];if(o&&s)t:for(var a=0;s.length>a;++a){for(var l=s[a],c=0;o.length>c;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(i[r]=s)}return i}function Ai(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;t.markedSpans.length>e;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&-1!=Vn(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:e,to:i}],o=0;n.length>o;++o)for(var s=n[o],a=s.find(),l=0;r.length>l;++l){var c=r[l];if(!Ue(c.to,a.from)&&!Ue(a.to,c.from)){var u=[l,1];(Ue(c.from,a.from)||!s.inclusiveLeft&&We(c.from,a.from))&&u.push({from:c.from,to:a.from}),(Ue(a.to,c.to)||!s.inclusiveRight&&We(c.to,a.to))&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function Li(t,e){var i,n=$r&&t.markedSpans;if(n)for(var r,o=0;n.length>o;++o)r=n[o],r.marker.collapsed&&(null==r.from||e>r.from)&&(null==r.to||r.to>e)&&(!i||i.width<r.marker.width)&&(i=r.marker);return i}function Oi(t){return Li(t,-1)}function ji(t){return Li(t,t.text.length+1)}function Pi(t,e){for(var i;i=Oi(e);)e=cn(t,i.find().from.line);return e}function Ii(t,e){var i=$r&&e.markedSpans;if(i)for(var n,r=0;i.length>r;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(0==n.from&&n.marker.inclusiveLeft&&Fi(t,e,n))return!0}}function Fi(t,e,i){if(null==i.to){var n=i.marker.find().to,r=cn(t,n.line);return Fi(t,r,Si(r.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var o,s=0;e.markedSpans.length>s;++s)if(o=e.markedSpans[s],o.marker.collapsed&&o.from==i.to&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&Fi(t,e,o))return!0}function $i(t){var e=t.markedSpans;if(e){for(var i=0;e.length>i;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function Hi(t,e){if(e){for(var i=0;e.length>i;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function zi(t){return function(){var e=!this.cm.curOp;e&&Z(this.cm);try{var i=t.apply(this,arguments)}finally{e&&te(this.cm)}return i}}function Ri(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||tr(t.cm.display.measure,Xn("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function Wi(t,e,i,n){var r=new to(t,i,n);return r.noHScroll&&(t.display.alignWidgets=!0),ai(t,e,function(e){if((e.widgets||(e.widgets=[])).push(r),r.line=e,!Ii(t.doc,e)||r.showIfHidden){var i=mn(t,e)<t.display.scroller.scrollTop;dn(e,e.height+Ri(r)),i&&oi(t,0,r.height)}return!0}),r}function Ui(t,e,i){var n={text:t};return Hi(n,e),n.height=i?i(n):1,n}function Bi(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),$i(t),Hi(t,i);var r=n?n(t):1;r!=t.height&&dn(t,r)}function Vi(t){t.parent=null,$i(t)}function qi(t,e,i,n,r){var o=i.flattenSpans;null==o&&(o=t.options.flattenSpans);var s="",a=null,l=new bi(e,t.options.tabSize);for(""==e&&i.blankLine&&i.blankLine(n);!l.eol();){var c=i.token(l,n);l.pos>5e3&&(o=!1,l.pos=Math.min(e.length,l.start+5e4),c=null);var u=l.current();l.start=l.pos,o&&a==c?s+=u:(s&&r(s,a),s=u,a=c)}s&&r(s,a)}function Ji(t,e,i){var n=[t.state.modeGen];qi(t,e.text,t.doc.mode,i,function(t,e){n.push(t,e)});for(var r=0;t.state.overlays.length>r;++r){var o=t.state.overlays[r],s=1;qi(t,e.text,o.mode,!0,function(t,e){for(var i=s,r=t.length;r;){var a=n[s],l=a.length;r>=l?r-=l:(n.splice(s,1,a.slice(0,r),n[s+1],a.slice(r)),r=0),s+=2}if(e)if(o.opaque)n.splice(i,s-i,t,e),s=i+2;else for(;s>i;i+=2){var a=n[i+1];n[i+1]=a?a+" "+e:e}})}return n}function Yi(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Ji(t,e,e.stateAfter=j(t,pn(e)))),e.styles}function Qi(t,e,i){var n=t.doc.mode,r=new bi(e.text,t.options.tabSize);for(""==e.text&&n.blankLine&&n.blankLine(i);!r.eol()&&5e3>=r.pos;)n.token(r,i),r.start=r.pos}function Ki(t){return t?eo[t]||(eo[t]="cm-"+t.replace(/ +/g," cm-")):null}function Gi(t,e,i){for(var n,r,o,s=e,a=!0;n=Oi(s);)a=!1,s=cn(t.doc,n.find().from.line),r||(r=s);var l={pre:Xn("pre"),col:0,pos:0,display:!i,measure:null,addedOne:!1,cm:t};s.textClass&&(l.pre.className=s.textClass);do{l.measure=s==e&&i,l.pos=0,l.addToken=l.measure?Zi:Xi,(mr||yr)&&t.getOption("lineWrapping")&&(l.addToken=tn(l.addToken)),i&&o&&s!=e&&!l.addedOne&&(i[0]=l.pre.appendChild(rr(t.display.measure)),l.addedOne=!0);var c=nn(s,l,Yi(t,s));o=s==r,c&&(s=cn(t.doc,c.to.line),a=!1)}while(c);i&&!l.addedOne&&(i[0]=l.pre.appendChild(a?Xn("span","\xa0"):rr(t.display.measure))),l.pre.firstChild||Ii(t.doc,e)||l.pre.appendChild(document.createTextNode("\xa0"));var u;if(i&&mr&&(u=gn(s))){var h=u.length-1;u[h].from==u[h].to&&--h;var d=u[h],p=u[h-1];if(d.from+1==d.to&&p&&d.level<p.level){var f=i[l.pos-1];f&&f.parentNode.insertBefore(f.measureRight=rr(t.display.measure),f.nextSibling)}}return In(t,"renderLine",t,e,l.pre),l.pre}function Xi(t,e,i,n,r){if(e){if(io.test(e))for(var o=document.createDocumentFragment(),s=0;;){io.lastIndex=s;var a=io.exec(e),l=a?a.index-s:e.length-s;if(l&&(o.appendChild(document.createTextNode(e.slice(s,s+l))),t.col+=l),!a)break;if(s+=l+1,"	"==a[0]){var c=t.cm.options.tabSize,u=c-t.col%c;o.appendChild(Xn("span",Wn(u),"cm-tab")),t.col+=u}else{var h=Xn("span","\u2022","cm-invalidchar");h.title="\\u"+a[0].charCodeAt(0).toString(16),o.appendChild(h),t.col+=1}}else{t.col+=e.length;var o=document.createTextNode(e)}if(i||n||r||t.measure){var d=i||"";return n&&(d+=n),r&&(d+=r),t.pre.appendChild(Xn("span",[o],d))}t.pre.appendChild(o)}}function Zi(t,e,i,n,r){for(var o=t.cm.options.lineWrapping,s=0;e.length>s;++s){var a=e.charAt(s),l=0==s;a>="\ud800"&&"\udbff">a&&e.length-1>s?(a=e.slice(s,s+2),++s):s&&o&&go.test(e.slice(s-1,s+1))&&t.pre.appendChild(Xn("wbr"));var c=t.measure[t.pos]=Xi(t,a,i,l&&n,s==e.length-1&&r);mr&&o&&" "==a&&s&&!/\s/.test(e.charAt(s-1))&&e.length-1>s&&!/\s/.test(e.charAt(s+1))&&(c.style.whiteSpace="normal"),t.pos+=a.length}e.length&&(t.addedOne=!0)}function tn(t){function e(t){for(var e=" ",i=0;t.length-2>i;++i)e+=i%2?" ":"\xa0";return e+=" "}return function(i,n,r,o,s){return t(i,n.replace(/ {3,}/,e),r,o,s)}}function en(t,e,i){i&&(t.display||(i=i.cloneNode(!0)),t.pre.appendChild(i),t.measure&&e&&(t.measure[t.pos]=i,t.addedOne=!0)),t.pos+=e}function nn(t,e,i){var n=t.markedSpans;if(n)for(var r,o,s,a,l,c=t.text,u=c.length,h=0,d=1,p="",f=0;;){if(f==h){o=s=a="",l=null,f=1/0;for(var m=null,g=0;n.length>g;++g){var v=n[g],y=v.marker;h>=v.from&&(null==v.to||v.to>h)?(null!=v.to&&f>v.to&&(f=v.to,s=""),y.className&&(o+=" "+y.className),y.startStyle&&v.from==h&&(a+=" "+y.startStyle),y.endStyle&&v.to==f&&(s+=" "+y.endStyle),y.collapsed&&(!l||l.marker.width<y.width)&&(l=v)):v.from>h&&f>v.from&&(f=v.from),"bookmark"==y.type&&v.from==h&&y.replacedWith&&(m=y.replacedWith)}if(l&&(l.from||0)==h&&(en(e,(null==l.to?u:l.to)-h,null!=l.from&&l.marker.replacedWith),null==l.to))return l.marker.find();m&&!l&&en(e,0,m)}if(h>=u)break;for(var b=Math.min(u,f);;){if(p){var w=h+p.length;if(!l){var x=w>b?p.slice(0,b-h):p;e.addToken(e,x,r?r+o:o,a,h+x.length==f?s:"")}if(w>=b){p=p.slice(b-h),h=b;break}h=w,a=""}p=i[d++],r=Ki(i[d++])}}else for(var d=1;i.length>d;d+=2)e.addToken(e,i[d],Ki(i[d+1]))}function rn(t,e,i,n,r){function o(t){return i?i[t]:null}function s(t,i,n){Bi(t,i,n,r),Fn(t,"change",t,e)}var a=e.from,l=e.to,c=e.text,u=cn(t,a.line),h=cn(t,l.line),d=Un(c),p=o(c.length-1),f=l.line-a.line;if(0==a.ch&&0==l.ch&&""==d){for(var m=0,g=c.length-1,v=[];g>m;++m)v.push(Ui(c[m],o(m),r));s(h,h.text,p),f&&t.remove(a.line,f),v.length&&t.insert(a.line,v)}else if(u==h)if(1==c.length)s(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),p);else{for(var v=[],m=1,g=c.length-1;g>m;++m)v.push(Ui(c[m],o(m),r));v.push(Ui(d+u.text.slice(l.ch),p,r)),s(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,v)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0)),t.remove(a.line+1,f);else{s(u,u.text.slice(0,a.ch)+c[0],o(0)),s(h,d+h.text.slice(l.ch),p);for(var m=1,g=c.length-1,v=[];g>m;++m)v.push(Ui(c[m],o(m),r));f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,v)}Fn(t,"change",t,e),Ge(t,n.anchor,n.head,null,!0)}function on(t){this.lines=t,this.parent=null;for(var e=0,i=t.length,n=0;i>e;++e)t[e].parent=this,n+=t[e].height;this.height=n}function sn(t){this.children=t;for(var e=0,i=0,n=0,r=t.length;r>n;++n){var o=t[n];e+=o.chunkSize(),i+=o.height,o.parent=this}this.size=e,this.height=i,this.parent=null}function an(t,e,i){function n(t,r,o){if(t.linked)for(var s=0;t.linked.length>s;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!i||l)&&(e(a.doc,l),n(a.doc,t,l))}}}n(t,null,!0)}function ln(t,e){if(e.cm)throw Error("This document is already in use.");t.doc=e,e.cm=t,o(t),i(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,re(t)}function cn(t,e){for(e-=t.first;!t.lines;)for(var i=0;;++i){var n=t.children[i],r=n.chunkSize();if(r>e){t=n;break}e-=r}return t.lines[e]}function un(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(t){var o=t.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function hn(t,e,i){var n=[];return t.iter(e,i,function(t){n.push(t.text)}),n}function dn(t,e){for(var i=e-t.height,n=t;n;n=n.parent)n.height+=i}function pn(t){if(null==t.parent)return null;for(var e=t.parent,i=Vn(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function fn(t,e){var i=t.first;t:do{for(var n=0,r=t.children.length;r>n;++n){var o=t.children[n],s=o.height;if(s>e){t=o;continue t}e-=s,i+=o.chunkSize()}return i}while(!t.lines);for(var n=0,r=t.lines.length;r>n;++n){var a=t.lines[n],l=a.height;if(l>e)break;e-=l}return i+n}function mn(t,e){e=Pi(t.doc,e);for(var i=0,n=e.parent,r=0;n.lines.length>r;++r){var o=n.lines[r];if(o==e)break;i+=o.height}for(var s=n.parent;s;n=s,s=n.parent)for(var r=0;s.children.length>r;++r){var a=s.children[r];if(a==n)break;i+=a.height}return i}function gn(t){var e=t.order;return null==e&&(e=t.order=ko(t.text)),e}function vn(){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function yn(t,e,i,n){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(i){i.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=i.markedSpans),++o})}function bn(t,e){var i={from:e.from,to:Ee(e),text:un(t,e.from,e.to)};return yn(t,i,e.from.line,e.to.line+1),an(t,function(t){yn(t,i,e.from.line,e.to.line+1)},!0),i}function wn(t,e,i,n){var r=t.history;r.undone.length=0;var o=+new Date,s=Un(r.done);if(s&&(r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastTime>o-600||"*"==e.origin.charAt(0)))){var a=Un(s.changes);We(e.from,e.to)&&We(e.from,a.to)?a.to=Ee(e):s.changes.push(bn(t,e)),s.anchorAfter=i.anchor,s.headAfter=i.head}else{for(s={changes:[bn(t,e)],anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:i.anchor,headAfter:i.head},r.done.push(s);r.done.length>r.undoDepth;)r.done.shift();0>r.dirtyCounter?r.dirtyCounter=0/0:r.dirtyCounter++}r.lastTime=o,r.lastOp=n,r.lastOrigin=e.origin}function xn(t){if(!t)return null;for(var e,i=0;t.length>i;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function Cn(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=0,r=[];e.text.length>n;++n)r.push(xn(i[n]));return r}function kn(t,e){for(var i=0,n=[];t.length>i;++i){var r=t[i],o=r.changes,s=[];n.push({changes:s,anchorBefore:r.anchorBefore,headBefore:r.headBefore,anchorAfter:r.anchorAfter,headAfter:r.headAfter});for(var a=0;o.length>a;++a){var l,c=o[a];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(l=u.match(/^spans_(\d+)$/))&&Vn(e,Number(l[1]))>-1&&(Un(s)[u]=c[u],delete c[u])}}return n}function Sn(t,e,i,n){t.line>i?t.line+=n:t.line>e&&(t.line=e,t.ch=0)}function Tn(t,e,i,n){for(var r=0;t.length>r;++r){for(var o=t[r],s=!0,a=0;o.changes.length>a;++a){var l=o.changes[a];if(o.copied||(l.from=Be(l.from),l.to=Be(l.to)),l.from.line>i)l.from.line+=n,l.to.line+=n;else if(l.to.line>=e){s=!1;break}}o.copied||(o.anchorBefore=Be(o.anchorBefore),o.headBefore=Be(o.headBefore),o.anchorAfter=Be(o.anchorAfter),o.readAfter=Be(o.headAfter),o.copied=!0),s?(Sn(o.anchorBefore),Sn(o.headBefore),Sn(o.anchorAfter),Sn(o.headAfter)):(t.splice(0,r+1),r=0)}}function Dn(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;Tn(t.done,i,n,r),Tn(t.undone,i,n,r)}function _n(){An(this)}function Mn(t){return t.stop||(t.stop=_n),t}function Nn(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function En(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function An(t){Nn(t),En(t)}function Ln(t){return t.target||t.srcElement}function On(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Nr&&t.ctrlKey&&1==e&&(e=3),e}function jn(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={}),r=n[e]||(n[e]=[]);r.push(i)}}function Pn(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers&&t._handlers[e];if(!n)return;for(var r=0;n.length>r;++r)if(n[r]==i){n.splice(r,1);break}}}function In(t,e){var i=t._handlers&&t._handlers[e];if(i)for(var n=Array.prototype.slice.call(arguments,2),r=0;i.length>r;++r)i[r].apply(null,n)}function Fn(t,e){function i(t){return function(){t.apply(null,r)}}var n=t._handlers&&t._handlers[e];if(n){var r=Array.prototype.slice.call(arguments,2);ao||(++lo,ao=[],setTimeout($n,0));for(var o=0;n.length>o;++o)ao.push(i(n[o]))}}function $n(){--lo;var t=ao;ao=null;for(var e=0;t.length>e;++e)t[e]()}function Hn(t,e){var i=t._handlers&&t._handlers[e];return i&&i.length>0}function zn(){this.id=null}function Rn(t,e,i,n,r){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=n||0,s=r||0;e>o;++o)"	"==t.charAt(o)?s+=i-s%i:++s;return s}function Wn(t){for(;t>=ho.length;)ho.push(Un(ho)+" ");return ho[t]}function Un(t){return t[t.length-1]}function Bn(t){_r?(t.selectionStart=0,t.selectionEnd=t.value.length):t.select()
}function Vn(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;++i)if(t[i]==e)return i;return-1}function qn(t,e){function i(){}i.prototype=t;var n=new i;return e&&Jn(e,n),n}function Jn(t,e){e||(e={});for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function Yn(t){for(var e=[],i=0;t>i;++i)e.push(void 0);return e}function Qn(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Kn(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||po.test(t))}function Gn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Xn(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)er(r,e);else if(e)for(var o=0;e.length>o;++o)r.appendChild(e[o]);return r}function Zn(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function tr(t,e){return Zn(t).appendChild(e)}function er(t,e){vr?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function ir(t){return t.getBoundingClientRect()}function nr(t){if(null!=vo)return vo;var e=Xn("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return tr(t,e),e.offsetWidth&&(vo=e.offsetHeight-e.clientHeight),vo||0}function rr(t){if(null==yo){var e=Xn("span","\u200b");tr(t,Xn("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(yo=1>=e.offsetWidth&&e.offsetHeight>2&&!gr)}return yo?Xn("span","\u200b"):Xn("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function or(t,e,i,n){if(!t)return n(e,i,"ltr");for(var r=0;t.length>r;++r){var o=t[r];(i>o.from&&o.to>e||e==i&&o.to==e)&&n(Math.max(o.from,e),Math.min(o.to,i),1==o.level?"rtl":"ltr")}}function sr(t){return t.level%2?t.to:t.from}function ar(t){return t.level%2?t.from:t.to}function lr(t){var e=gn(t);return e?sr(e[0]):0}function cr(t){var e=gn(t);return e?ar(Un(e)):t.text.length}function ur(t,e){var i=cn(t.doc,e),n=Pi(t.doc,i);n!=i&&(e=pn(n));var r=gn(n),o=r?r[0].level%2?cr(n):lr(n):0;return Re(e,o)}function hr(t,e){for(var i,n;i=ji(n=cn(t.doc,e));)e=i.find().to.line;var r=gn(n),o=r?r[0].level%2?lr(n):cr(n):n.text.length;return Re(e,o)}function dr(t,e,i,n){var r=gn(t);if(!r)return pr(t,e,i,n);for(var o=n?function(e,i){do e+=i;while(e>0&&fo.test(t.text.charAt(e)));return e}:function(t,e){return t+e},s=r[0].level,a=0;r.length>a;++a){var l=r[a],c=l.level%2==s;if(e>l.from&&l.to>e||c&&(l.from==e||l.to==e))break}for(var u=o(e,l.level%2?-i:i);null!=u;)if(l.level%2==s){if(!(l.from>u||u>l.to))break;l=r[a+=i],u=l&&(i>0==l.level%2?o(l.to,-1):o(l.from,1))}else if(u==sr(l))l=r[--a],u=l&&ar(l);else{if(u!=ar(l))break;l=r[++a],u=l&&sr(l)}return 0>u||u>t.text.length?null:u}function pr(t,e,i,n){var r=e+i;if(n)for(;r>0&&fo.test(t.text.charAt(r));)r+=i;return 0>r||r>t.text.length?null:r}var fr=/gecko\/\d/i.test(navigator.userAgent),mr=/MSIE \d/.test(navigator.userAgent),gr=mr&&(null==document.documentMode||8>document.documentMode),vr=mr&&(null==document.documentMode||9>document.documentMode),yr=/WebKit\//.test(navigator.userAgent),br=yr&&/Qt\/\d+\.\d+/.test(navigator.userAgent),wr=/Chrome\//.test(navigator.userAgent),xr=/Opera\//.test(navigator.userAgent),Cr=/Apple Computer/.test(navigator.vendor),kr=/KHTML\//.test(navigator.userAgent),Sr=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Tr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Dr=/PhantomJS/.test(navigator.userAgent),_r=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Mr=_r||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Nr=_r||/Mac/.test(navigator.platform),Er=/windows/i.test(navigator.platform),Ar=xr&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Ar&&(Ar=Number(Ar[1]));var Lr,Or,jr,Pr=Nr&&(br||xr&&(null==Ar||12.11>Ar)),Ir=fr||mr&&!vr,Fr=!1,$r=!1,Hr=0,zr=0,Rr=null;mr?Rr=-.53:fr?Rr=15:wr?Rr=-.7:Cr&&(Rr=-1/3);var Wr,Ur,Br=null;t.Pos=Re,t.prototype={focus:function(){window.focus(),ce(this),_e(this),se(this)},setOption:function(t,e){var i=this.options,n=i[t];(i[t]!=e||"mode"==t)&&(i[t]=e,Vr.hasOwnProperty(t)&&ee(this,Vr[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;e.length>i;++i)if(("string"==typeof t?e[i].name:e[i])==t)return e.splice(i,1),!0},addOverlay:ee(null,function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:i&&i.opaque}),this.state.modeGen++,re(this)}),removeOverlay:ee(null,function(t){for(var e=this.state.overlays,i=0;e.length>i;++i)if(e[i].modeSpec==t)return e.splice(i,1),this.state.modeGen++,void re(this)}),indentLine:ee(null,function(t,e,i){"string"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Ye(this.doc,t)&&si(this,t,e,i)}),indentSelection:ee(null,function(t){var e=this.doc.sel;if(We(e.from,e.to))return si(this,e.from.line,t);for(var i=e.to.line-(e.to.ch?0:1),n=e.from.line;i>=n;++n)si(this,n,t)}),getTokenAt:function(t){var e=this.doc;t=qe(e,t);for(var i=j(this,t.line),n=this.doc.mode,r=cn(e,t.line),o=new bi(r.text,this.options.tabSize);o.pos<t.ch&&!o.eol();){o.start=o.pos;var s=n.token(o,i)}return{start:o.start,end:o.pos,string:o.current(),className:s||null,type:s||null,state:i}},getStateAfter:function(t){var e=this.doc;return t=Ve(e,null==t?e.first+e.size-1:t),j(this,t+1)},cursorCoords:function(t,e){var i,n=this.doc.sel;return i=null==t?n.head:"object"==typeof t?qe(this.doc,t):t?n.from:n.to,J(this,i,e||"page")},charCoords:function(t,e){return q(this,qe(this.doc,t),e||"page")},coordsChar:function(t,e){return t=V(this,t,e||"page"),Q(this,t.left,t.top)},defaultTextHeight:function(){return G(this.display)},defaultCharWidth:function(){return X(this.display)},setGutterMarker:ee(null,function(t,e,i){return ai(this,t,function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&Gn(n)&&(t.gutterMarkers=null),!0})}),clearGutter:ee(null,function(t){var e=this,i=e.doc,n=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&(i.gutterMarkers[t]=null,re(e,n,n+1),Gn(i.gutterMarkers)&&(i.gutterMarkers=null)),++n})}),addLineClass:ee(null,function(t,e,i){return ai(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[n]){if(RegExp("\\b"+i+"\\b").test(t[n]))return!1;t[n]+=" "+i}else t[n]=i;return!0})}),removeLineClass:ee(null,function(t,e,i){return ai(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",r=t[n];if(!r)return!1;if(null==i)t[n]=null;else{var o=r.replace(RegExp("^"+i+"\\b\\s*|\\s*\\b"+i+"\\b"),"");if(o==r)return!1;t[n]=o||null}return!0})}),addLineWidget:ee(null,function(t,e,i){return Wi(this,t,e,i)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!Ye(this.doc,t))return null;var e=t;if(t=cn(this.doc,t),!t)return null}else{var e=pn(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,i,n,r){var o=this.display;t=J(this,qe(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:l>=t.bottom+e.offsetHeight&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+P(o)+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&ii(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:ee(null,Te),execCommand:function(t){return Xr[t](this)},findPosH:function(t,e,i,n){var r=1;0>e&&(r=-1,e=-e);for(var o=0,s=qe(this.doc,t);e>o&&(s=li(this.doc,s,r,i,n),!s.hitSide);++o);return s},moveH:ee(null,function(t,e){var i,n=this.doc.sel;i=n.shift||n.extend||We(n.from,n.to)?li(this.doc,n.head,t,e,this.options.rtlMoveVisually):0>t?n.from:n.to,Qe(this.doc,i,i,t)}),deleteH:ee(null,function(t,e){var i=this.doc.sel;We(i.from,i.to)?ze(this.doc,"",i.from,li(this.doc,i.head,t,e,!1),"+delete"):ze(this.doc,"",i.from,i.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,i,n){var r=1,o=n;0>e&&(r=-1,e=-e);for(var s=0,a=qe(this.doc,t);e>s;++s){var l=J(this,a,"div");if(null==o?o=l.left:l.left=o,a=ci(this,l,r,i),a.hitSide)break}return a},moveV:ee(null,function(t,e){var i=this.doc.sel,n=J(this,i.head,"div");null!=i.goalColumn&&(n.left=i.goalColumn);var r=ci(this,n,t,e);"page"==e&&oi(this,0,q(this,r,"div").top-n.top),Qe(this.doc,r,r,t),i.goalColumn=n.left}),toggleOverwrite:function(){(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},hasFocus:function(){return this.state.focused},scrollTo:ee(null,function(t,e){ri(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=co;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:function(t,e){"number"==typeof t&&(t=Re(t,0)),t&&null==t.line?ii(this,t.left,t.top-e,t.right,t.bottom+e):(t=t?qe(this.doc,t):this.doc.sel.head,ei(this,t,e))},setSize:function(t,e){function i(t){return"number"==typeof t||/^\d+$/.test(t+"")?t+"px":t}null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.refresh()},on:function(t,e){jn(this,t,e)},off:function(t,e){Pn(this,t,e)},operation:function(t){return ne(this,t)},refresh:ee(null,function(){U(this),ri(this,this.doc.scrollLeft,this.doc.scrollTop),re(this)}),swapDoc:ee(null,function(t){var e=this.doc;return e.cm=null,ln(this,t),U(this),ri(this,t.scrollLeft,t.scrollTop),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Vr=t.optionHandlers={},qr=t.defaults={},Jr=t.Init={toString:function(){return"CodeMirror.Init"}};di("value","",function(t,e){t.setValue(e)},!0),di("mode",null,function(t,e){t.doc.modeOption=e,i(t)},!0),di("indentUnit",2,i,!0),di("indentWithTabs",!1),di("smartIndent",!0),di("tabSize",4,function(t){i(t),U(t),re(t)},!0),di("electricChars",!0),di("rtlMoveVisually",!Er),di("theme","default",function(t){a(t),l(t)},!0),di("keyMap","default",s),di("extraKeys",null),di("onKeyEvent",null),di("onDragEvent",null),di("lineWrapping",!1,n,!0),di("gutters",[],function(t){d(t.options),l(t)},!0),di("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?y(t.display)+"px":"0",t.refresh()},!0),di("lineNumbers",!1,function(t){d(t.options),l(t)},!0),di("firstLineNumber",1,l,!0),di("lineNumberFormatter",function(t){return t},l,!0),di("showCursorWhenSelecting",!1,_,!0),di("readOnly",!1,function(t,e){"nocursor"==e?(Me(t),t.display.input.blur()):e||le(t,!0)}),di("dragDrop",!0),di("cursorBlinkRate",530),di("cursorHeight",1),di("workTime",100),di("workDelay",100),di("flattenSpans",!0),di("pollInterval",100),di("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),di("viewportMargin",10,function(t){t.refresh()},!0),di("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),di("autofocus",null);var Yr=t.modes={},Qr=t.mimeModes={};t.defineMode=function(e,i){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){i.dependencies=[];for(var n=2;arguments.length>n;++n)i.dependencies.push(arguments[n])}Yr[e]=i},t.defineMIME=function(t,e){Qr[t]=e},t.resolveMode=function(e){if("string"==typeof e&&Qr.hasOwnProperty(e))e=Qr[e];else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,i){i=t.resolveMode(i);var n=Yr[i.name];if(!n)return t.getMode(e,"text/plain");var r=n(e,i);if(Kr.hasOwnProperty(i.name)){var o=Kr[i.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}return r.name=i.name,r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var Kr=t.modeExtensions={};t.extendMode=function(t,e){var i=Kr.hasOwnProperty(t)?Kr[t]:Kr[t]={};Jn(e,i)},t.defineExtension=function(e,i){t.prototype[e]=i},t.defineOption=di;var Gr=[];t.defineInitHook=function(t){Gr.push(t)},t.copyState=pi,t.startState=fi,t.innerMode=function(t,e){for(;t.innerMode;){var i=t.innerMode(e);e=i.state,t=i.mode}return i||{mode:t,state:e}};var Xr=t.commands={selectAll:function(t){t.setSelection(Re(t.firstLine(),0),Re(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),i=t.getCursor(!1),n=!We(e,i);n||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,n?i:Re(e.line),"+delete"):t.replaceRange("",e,Re(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",Re(e,0),Re(e),"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection(Re(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Re(t.lastLine()))},goLineStart:function(t){t.extendSelection(ur(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),i=ur(t,e.line),n=t.getLineHandle(i.line),r=gn(n);if(r&&0!=r[0].level)t.extendSelection(i);else{var o=Math.max(0,n.text.search(/\S/)),s=e.line==i.line&&o>=e.ch&&e.ch;t.extendSelection(Re(i.line,s?0:o))}},goLineEnd:function(t){t.extendSelection(hr(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end","+input")},transposeChars:function(t){var e=t.getCursor(),i=t.getLine(e.line);e.ch>0&&e.ch<i.length-1&&t.replaceRange(i.charAt(e.ch)+i.charAt(e.ch-1),Re(e.line,e.ch-1),Re(e.line,e.ch+1))},newlineAndIndent:function(t){ee(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},Zr=t.keyMap={};Zr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},Zr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},Zr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},Zr["default"]=Nr?Zr.macDefault:Zr.pcDefault,Zr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=gi,t.isModifierKey=vi,t.keyName=yi,t.fromTextArea=function(e,i){function n(){e.value=c.getValue()}if(i||(i={}),i.value=e.value,!i.tabindex&&e.tabindex&&(i.tabindex=e.tabindex),!i.placeholder&&e.placeholder&&(i.placeholder=e.placeholder),null==i.autofocus){var r=document.body;try{r=document.activeElement}catch(o){}i.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(jn(e.form,"submit",n),!i.leaveSubmitMethodAlone)){var s=e.form,a=s.submit;try{var l=s.submit=function(){n(),s.submit=a,s.submit(),s.submit=l}}catch(o){}}e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},i);return c.save=n,c.getTextArea=function(){return e},c.toTextArea=function(){n(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Pn(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=a))},c},bi.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var i=e==t;else var i=e&&(t.test?t.test(e):t(e));return i?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Rn(this.string,null,this.tabSize)},match:function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return r(o)==r(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=bi,t.TextMarker=wi,wi.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;e&&Z(t);for(var i=null,n=null,r=0;this.lines.length>r;++r){var o=this.lines[r],s=Si(o.markedSpans,this);null!=s.to&&(n=pn(o)),o.markedSpans=Ti(o.markedSpans,s),null!=s.from?i=pn(o):this.collapsed&&!Ii(this.doc,o)&&t&&dn(o,G(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var r=0;this.lines.length>r;++r){var a=Pi(t.doc,this.lines[r]),l=u(t.doc,a);l>t.display.maxLineLength&&(t.display.maxLine=a,t.display.maxLineLength=l,t.display.maxLineChanged=!0)}null!=i&&t&&re(t,i,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Xe(t)),e&&te(t),Fn(this,"clear")}},wi.prototype.find=function(){for(var t,e,i=0;this.lines.length>i;++i){var n=this.lines[i],r=Si(n.markedSpans,this);if(null!=r.from||null!=r.to){var o=pn(n);null!=r.from&&(t=Re(o,r.from)),null!=r.to&&(e=Re(o,r.to))}}return"bookmark"==this.type?t:t&&{from:t,to:e}},wi.prototype.getOptions=function(t){var e=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,replacedWith:t?e&&e.cloneNode(!0):e,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}},wi.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Vn(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},wi.prototype.detachLine=function(t){if(this.lines.splice(Vn(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},t.SharedTextMarker=Ci,Ci.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;this.markers.length>t;++t)this.markers[t].clear();Fn(this,"clear")}},Ci.prototype.find=function(){return this.primary.find()},Ci.prototype.getOptions=function(t){var e=this.primary.getOptions(t);return e.shared=!0,e};var to=t.LineWidget=function(t,e,i){for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.cm=t,this.node=e};to.prototype.clear=zi(function(){var t=this.line.widgets,e=pn(this.line);if(null!=e&&t){for(var i=0;t.length>i;++i)t[i]==this&&t.splice(i--,1);t.length||(this.line.widgets=null),dn(this.line,Math.max(0,this.line.height-Ri(this))),re(this.cm,e,e+1)}}),to.prototype.changed=zi(function(){var t=this.height;this.height=null;var e=Ri(this)-t;if(e){dn(this.line,this.line.height+e);var i=pn(this.line);re(this.cm,i,i+1)}});var eo={},io=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;on.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;n>i;++i){var r=this.lines[i];this.height-=r.height,Vi(r),Fn(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0,r=e.length;r>n;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;n>t;++t)if(i(this.lines[t]))return!0}},sn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;this.children.length>i;++i){var n=this.children[i],r=n.chunkSize();if(r>t){var o=Math.min(e,r-t),s=n.height;if(n.removeInner(t,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(e-=o))break;t=0}else t-=r}if(25>this.size-e){var a=[];this.collapse(a),this.children=[new on(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0,i=this.children.length;i>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0,r=this.children.length;r>n;++n){var o=this.children[n],s=o.chunkSize();if(s>=t){if(o.insertInner(t,e,i),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),l=new on(a);o.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(10>=this.children.length)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new sn(e);if(t.parent){t.size-=i.size,t.height-=i.height;var n=Vn(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var r=new sn(t.children);r.parent=t,t.children=[r,i],t=r}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0,r=this.children.length;r>n;++n){var o=this.children[n],s=o.chunkSize();if(s>t){var a=Math.min(e,s-t);if(o.iterN(t,a,i))return!0;if(0==(e-=a))break;t=0}else t-=s}}};var no=0,ro=t.Doc=function(t,e,i){if(!(this instanceof ro))return new ro(t,e,i);null==i&&(i=0),sn.call(this,[new on([Ui("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=vn(),this.frontier=i;var n=Re(i,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++no,this.modeOption=e,"string"==typeof t&&(t=bo(t)),rn(this,{from:n,to:n,text:t},null,{head:n,anchor:n})};ro.prototype=qn(sn.prototype,{iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0,r=e.length;r>n;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=hn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=Re(this.first,0),i=this.first+this.size-1;je(this,{from:e,to:Re(i,cn(this,i).text.length),text:bo(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,i,n){e=qe(this,e),i=i?qe(this,i):e,ze(this,t,e,i,n)},getRange:function(t,e,i){var n=un(this,qe(this,t),qe(this,e));return i===!1?n:n.join(i||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){Ye(this,t)&&ze(this,e,Re(t,0),qe(this,Re(t)))},removeLine:function(t){Ye(this,t)&&ze(this,"",Re(t,0),qe(this,Re(t+1,0)))},getLineHandle:function(t){return Ye(this,t)?cn(this,t):void 0},getLineNumber:function(t){return pn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return qe(this,t)},getCursor:function(t){var e,i=this.sel;return e=null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||t===!1?i.to:i.from,Be(e)},somethingSelected:function(){return!We(this.sel.head,this.sel.anchor)},setCursor:ie(function(t,e,i){var n=qe(this,"number"==typeof t?Re(t,e||0):t);i?Qe(this,n):Ge(this,n,n)}),setSelection:ie(function(t,e){Ge(this,qe(this,t),qe(this,e||t))}),extendSelection:ie(function(t,e){Qe(this,qe(this,t),e&&qe(this,e))}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,i){je(this,{from:this.sel.from,to:this.sel.to,text:bo(t),origin:i},e||"around")},undo:ie(function(){Ie(this,"undo")}),redo:ie(function(){Ie(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=vn()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return 0==this.history.dirtyCounter},getHistory:function(){return{done:kn(this.history.done),undone:kn(this.history.undone)}},setHistory:function(t){var e=this.history=vn();e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,i){return xi(this,qe(this,t),qe(this,e),i,"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft};return t=qe(this,t),xi(this,t,t,i,"bookmark")},findMarksAt:function(t){t=qe(this,t);var e=[],i=cn(this,t.line).markedSpans;if(i)for(var n=0;i.length>n;++n){var r=i[n];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;i.length>n;++n)null!=i[n].from&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first;return this.iter(function(n){var r=n.text.length+1;return r>t?(e=t,!0):(t-=r,void++i)}),qe(this,Re(i,e))},indexFromPos:function(t){t=qe(this,t);var e=t.ch;return t.line<this.first||0>t.ch?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new ro(hn(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&i>t.to&&(i=t.to);var n=new ro(hn(this,e,i),t.mode||this.modeOption,e);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var i=0;this.linked.length>i;++i){var n=this.linked[i];if(n.doc==e){this.linked.splice(i,1),e.unlinkDoc(this);break}}if(e.history==this.history){var r=[e.id];an(e,function(t){r.push(t.id)},!0),e.history=vn(),e.history.done=kn(this.history.done,r),e.history.undone=kn(this.history.undone,r)}},iterLinkedDocs:function(t){an(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ro.prototype.eachLine=ro.prototype.iter;var oo="iter insert remove copy getEditor".split(" ");for(var so in ro.prototype)ro.prototype.hasOwnProperty(so)&&0>Vn(oo,so)&&(t.prototype[so]=function(t){return function(){return t.apply(this.doc,arguments)}}(ro.prototype[so]));t.e_stop=An,t.e_preventDefault=Nn,t.e_stopPropagation=En;var ao,lo=0;t.on=jn,t.off=Pn,t.signal=In;var co=30,uo=t.Pass={toString:function(){return"CodeMirror.Pass"}};zn.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=Rn;var ho=[""],po=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,fo=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;t.replaceGetRect=function(t){ir=t};var mo=function(){if(vr)return!1;var t=Xn("div");return"draggable"in t||"dragDrop"in t}(),go=/^$/;fr?go=/$'/:Cr&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?go=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:yr&&(go=/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.]|\?[\w~`@#$%\^&*(_=+{[|><]/);var vo,yo,bo=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;n>=e;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),e+=s+1):(i.push(o),e=r+1)}return i}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=bo;var wo=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(i){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},xo=function(){var t=Xn("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Co={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};t.keyNames=Co,function(){for(var t=0;10>t;t++)Co[t+48]=t+"";for(var t=65;90>=t;t++)Co[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Co[t+111]=Co[t+63235]="F"+t}();var ko=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?i.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,l="L";
return function(e){if(!n.test(e))return!1;for(var i,c=e.length,u=[],h=0;c>h;++h)u.push(i=t(e.charCodeAt(h)));for(var h=0,d=l;c>h;++h){var i=u[h];"m"==i?u[h]=d:d=i}for(var h=0,p=l;c>h;++h){var i=u[h];"1"==i&&"r"==p?u[h]="n":o.test(i)&&(p=i,"r"==i&&(u[h]="R"))}for(var h=1,d=u[0];c-1>h;++h){var i=u[h];"+"==i&&"1"==d&&"1"==u[h+1]?u[h]="1":","!=i||d!=u[h+1]||"1"!=d&&"n"!=d||(u[h]=d),d=i}for(var h=0;c>h;++h){var i=u[h];if(","==i)u[h]="N";else if("%"==i){for(var f=h+1;c>f&&"%"==u[f];++f);for(var m=h&&"!"==u[h-1]||c-1>f&&"1"==u[f]?"1":"N",g=h;f>g;++g)u[g]=m;h=f-1}}for(var h=0,p=l;c>h;++h){var i=u[h];"L"==p&&"1"==i?u[h]="L":o.test(i)&&(p=i)}for(var h=0;c>h;++h)if(r.test(u[h])){for(var f=h+1;c>f&&r.test(u[f]);++f);for(var v="L"==(h?u[h-1]:l),y="L"==(c-1>f?u[f]:l),m=v||y?"L":"R",g=h;f>g;++g)u[g]=m;h=f-1}for(var b,w=[],h=0;c>h;)if(s.test(u[h])){var x=h;for(++h;c>h&&s.test(u[h]);++h);w.push({from:x,to:h,level:0})}else{var C=h,k=w.length;for(++h;c>h&&"L"!=u[h];++h);for(var g=C;h>g;)if(a.test(u[g])){g>C&&w.splice(k,0,{from:C,to:g,level:1});var S=g;for(++g;h>g&&a.test(u[g]);++g);w.splice(k,0,{from:S,to:g,level:2}),C=g}else++g;h>C&&w.splice(k,0,{from:C,to:h,level:1})}return 1==w[0].level&&(b=e.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift({from:0,to:b[0].length,level:0})),1==Un(w).level&&(b=e.match(/\s+$/))&&(Un(w).to-=b[0].length,w.push({from:c-b[0].length,to:c,level:0})),w[0].level!=Un(w).level&&w.push({from:c,to:c,level:w[0].level}),w}}();return t.version="3.11",t}(),CodeMirror.defineMode("css",function(t){return CodeMirror.getMode(t,"text/css")}),CodeMirror.defineMode("css-base",function(t,e){"use strict";function i(t,e){return f=e,t}function n(t,e){var n=t.next();if(a[n]){var s=a[n](t,e);if(s!==!1)return s}if("@"==n)return t.eatWhile(/[\w\\\-]/),i("def",t.current());if("="==n)i(null,"compare");else{if(("~"==n||"|"==n)&&t.eat("="))return i(null,"compare");if('"'==n||"'"==n)return e.tokenize=r(n),e.tokenize(t,e);if("#"==n)return t.eatWhile(/[\w\\\-]/),i("atom","hash");if("!"==n)return t.match(/^\s*\w*/),i("keyword","important");if(/\d/.test(n))return t.eatWhile(/[\w.%]/),i("number","unit");if("-"!==n)return/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&t.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):":"==n?i("operator",n):/[;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&t.match("rl(")?(t.backUp(1),e.tokenize=o,i("property","variable")):(t.eatWhile(/[\w\\\-]/),i("property","variable"));if(/\d/.test(t.peek()))return t.eatWhile(/[\w.%]/),i("number","unit");if(t.match(/^[^-]+-/))return i("meta","meta")}}function r(t,e){return function(r,o){for(var s,a=!1;null!=(s=r.next())&&(s!=t||a);)a=!a&&"\\"==s;return a||(e&&r.backUp(1),o.tokenize=n),i("string","string")}}function o(t,e){return t.next(),e.tokenize=t.match(/\s*[\"\']/,!1)?n:r(")",!0),i(null,"(")}var s=t.indentUnit,a=e.hooks||{},l=e.atMediaTypes||{},c=e.atMediaFeatures||{},u=e.propertyKeywords||{},h=e.colorKeywords||{},d=e.valueKeywords||{},p=!!e.allowNested,f=null;return{startState:function(t){return{tokenize:n,baseIndent:t||0,stack:[]}},token:function(t,e){if(e.tokenize=e.tokenize||n,e.tokenize==n&&t.eatSpace())return null;var r=e.tokenize(t,e);r&&"string"!=typeof r&&(r=i(r[0],r[1]));var o=e.stack[e.stack.length-1];if("variable"==r)return"variable-definition"==f&&e.stack.push("propertyValue"),"variable-2";if("property"==r?"propertyValue"==o?r=d[t.current()]?"string-2":h[t.current()]?"keyword":"variable-2":"rule"==o?u[t.current()]||(r+=" error"):"block"==o?r=u[t.current()]?"property":h[t.current()]?"keyword":d[t.current()]?"string-2":"tag":o&&"@media{"!=o?"@media"==o?r=l[t.current()]?"attribute":/^(only|not)$/i.test(t.current())?"keyword":"and"==t.current().toLowerCase()?"error":c[t.current()]?"error":"attribute error":"@mediaType"==o?r=l[t.current()]?"attribute":"and"==t.current().toLowerCase()?"operator":/^(only|not)$/i.test(t.current())?"error":c[t.current()]?"error":"error":"@mediaType("==o?u[t.current()]||(l[t.current()]?r="error":"and"==t.current().toLowerCase()?r="operator":/^(only|not)$/i.test(t.current())?r="error":r+=" error"):r="error":r="tag":"atom"==r?o&&"@media{"!=o&&"block"!=o?"propertyValue"==o?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())||(r+=" error"):r="error":r="builtin":"@media"==o&&"{"==f&&(r="error"),"{"==f)if("@media"==o||"@mediaType"==o)e.stack.pop(),e.stack[e.stack.length-1]="@media{";else{var s=p?"block":"rule";e.stack.push(s)}else if("}"==f){var a=e.stack[e.stack.length-1];"interpolation"==a&&(r="operator"),e.stack.pop(),"propertyValue"==o&&e.stack.pop()}else"interpolation"==f?e.stack.push("interpolation"):"@media"==f?e.stack.push("@media"):"@media"==o&&/\b(keyword|attribute)\b/.test(r)?e.stack.push("@mediaType"):"@mediaType"==o&&","==t.current()?e.stack.pop():"@mediaType"==o&&"("==f?e.stack.push("@mediaType("):"@mediaType("==o&&")"==f?e.stack.pop():"rule"!=o&&"block"!=o||":"!=f?"propertyValue"==o&&";"==f&&e.stack.pop():e.stack.push("propertyValue");return r},indent:function(t,e){var i=t.stack.length;return/^\}/.test(e)&&(i-="propertyValue"==t.stack[t.stack.length-1]?2:1),t.baseIndent+i*s},electricChars:"}"}}),function(){function t(t){for(var e={},i=0;t.length>i;++i)e[t[i]]=!0;return e}function e(t,e){for(var i,n=!1;null!=(i=t.next());){if(n&&"/"==i){e.tokenize=null;break}n="*"==i}return["comment","comment"]}var i=t(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),n=t(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),r=t(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),o=t(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),s=t(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"]);CodeMirror.defineMIME("text/css",{atMediaTypes:i,atMediaFeatures:n,propertyKeywords:r,colorKeywords:o,valueKeywords:s,hooks:{"<":function(t,e){function i(t,e){for(var i,n=0;null!=(i=t.next());){if(n>=2&&">"==i){e.tokenize=null;break}n="-"==i?n+1:0}return["comment","comment"]}return t.eat("!")?(e.tokenize=i,i(t,e)):void 0},"/":function(t,i){return t.eat("*")?(i.tokenize=e,e(t,i)):!1}},name:"css-base"}),CodeMirror.defineMIME("text/x-scss",{atMediaTypes:i,atMediaFeatures:n,propertyKeywords:r,colorKeywords:o,valueKeywords:s,allowNested:!0,hooks:{$:function(t){return t.match(/^[\w-]+/),":"==t.peek()?["variable","variable-definition"]:["variable","variable"]},"/":function(t,i){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(i.tokenize=e,e(t,i)):["operator","operator"]},"#":function(t){return t.eat("{")?["operator","interpolation"]:(t.eatWhile(/[\w\\\-]/),["atom","hash"])}},name:"css-base"})}(),CodeMirror.defineMode("htmlmixed",function(t,e){function i(t,e){var i=e.htmlState.tagName,n=s.token(t,e.htmlState);if("script"==i&&/\btag\b/.test(n)&&">"==t.current()){var c=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);c=c?c[1]:"",c&&/[\"\']/.test(c.charAt(0))&&(c=c.slice(1,c.length-1));for(var u=0;l.length>u;++u){var h=l[u];if("string"==typeof h.matches?c==h.matches:h.matches.test(c)){h.mode&&(e.token=r,e.localMode=h.mode,e.localState=h.mode.startState&&h.mode.startState(s.indent(e.htmlState,"")));break}}}else"style"==i&&/\btag\b/.test(n)&&">"==t.current()&&(e.token=o,e.localMode=a,e.localState=a.startState(s.indent(e.htmlState,"")));return n}function n(t,e,i){var n,r=t.current(),o=r.search(e);return o>-1?t.backUp(r.length-o):(n=r.match(/<\/?$/))&&(t.backUp(r.length),t.match(e,!1)||t.match(r[0])),i}function r(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=i,e.localState=e.localMode=null,i(t,e)):n(t,/<\/\s*script\s*>/,e.localMode.token(t,e.localState))}function o(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=i,e.localState=e.localMode=null,i(t,e)):n(t,/<\/\s*style\s*>/,a.token(t,e.localState))}var s=CodeMirror.getMode(t,{name:"xml",htmlMode:!0}),a=CodeMirror.getMode(t,"css"),l=[],c=e&&e.scriptTypes;if(l.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:CodeMirror.getMode(t,"javascript")}),c)for(var u=0;c.length>u;++u){var h=c[u];l.push({matches:h.matches,mode:h.mode&&CodeMirror.getMode(t,h.mode)})}return l.push({matches:/./,mode:CodeMirror.getMode(t,"text/plain")}),{startState:function(){var t=s.startState();return{token:i,localMode:null,localState:null,htmlState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:e,htmlState:CodeMirror.copyState(s,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return!t.localMode||/^\s*<\//.test(e)?s.indent(t.htmlState,e):t.localMode.indent?t.localMode.indent(t.localState,e):CodeMirror.Pass},electricChars:"/{}:",innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||s}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(t,e){function i(t,e,i){return e.tokenize=i,i(t,e)}function n(t,e){for(var i,n=!1;null!=(i=t.next());){if(i==e&&!n)return!1;n=!n&&"\\"==i}return n}function r(t,e,i){return H=t,z=i,e}function o(t,e){var o=t.next();if('"'==o||"'"==o)return i(t,e,s(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return r(o);if("0"==o&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(o)||"-"==o&&t.eat(/\d/))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==o)return t.eat("*")?i(t,e,a):t.eat("/")?(t.skipToEnd(),r("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(n(t,"/"),t.eatWhile(/[gimy]/),r("regexp","string-2")):(t.eatWhile(V),r("operator",null,t.current()));if("#"==o)return t.skipToEnd(),r("error","error");if(V.test(o))return t.eatWhile(V),r("operator",null,t.current());t.eatWhile(/[\w\$_]/);var l=t.current(),c=B.propertyIsEnumerable(l)&&B[l];return c&&"."!=e.lastType?r(c.type,c.style,l):r("variable","variable",l)}function s(t){return function(e,i){return n(e,t)||(i.tokenize=o),r("string","string")}}function a(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=o;break}n="*"==i}return r("comment","comment")}function l(t,e,i,n,r,o){this.indented=t,this.column=e,this.type=i,this.prev=r,this.info=o,null!=n&&(this.align=n)}function c(t,e){for(var i=t.localVars;i;i=i.next)if(i.name==e)return!0}function u(t,e,i,n,r){var o=t.cc;for(J.state=t,J.stream=r,J.marked=null,J.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var s=o.length?o.pop():W?w:b;if(s(i,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return J.marked?J.marked:"variable"==i&&c(t,n)?"variable-2":e}}}function h(){for(var t=arguments.length-1;t>=0;t--)J.cc.push(arguments[t])}function d(){return h.apply(null,arguments),!0}function p(t){function e(e){for(var i=e;i;i=i.next)if(i.name==t)return!0;return!1}var i=J.state;if(i.context){if(J.marked="def",e(i.localVars))return;i.localVars={name:t,next:i.localVars}}else{if(e(i.globalVars))return;i.globalVars={name:t,next:i.globalVars}}}function f(){J.state.context={prev:J.state.context,vars:J.state.localVars},J.state.localVars=Y}function m(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}function g(t,e){var i=function(){var i=J.state;i.lexical=new l(i.indented,J.stream.column(),t,null,i.lexical,e)};return i.lex=!0,i}function v(){var t=J.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function y(t){return function(e){return e==t?d():";"==t?h():d(arguments.callee)}}function b(t){return"var"==t?d(g("vardef"),A,y(";"),v):"keyword a"==t?d(g("form"),w,b,v):"keyword b"==t?d(g("form"),b,v):"{"==t?d(g("}"),M,v):";"==t?d():"function"==t?d(F):"for"==t?d(g("form"),y("("),g(")"),O,y(")"),v,b,v):"variable"==t?d(g("stat"),k):"switch"==t?d(g("form"),w,g("}","switch"),y("{"),M,v,v):"case"==t?d(w,y(":")):"default"==t?d(y(":")):"catch"==t?d(g("form"),f,y("("),$,y(")"),b,v,m):h(g("stat"),w,y(";"),v)}function w(t){return q.hasOwnProperty(t)?d(C):"function"==t?d(F):"keyword c"==t?d(x):"("==t?d(g(")"),x,y(")"),v,C):"operator"==t?d(w):"["==t?d(g("]"),_(w,"]"),v,C):"{"==t?d(g("}"),_(T,"}"),v,C):d()}function x(t){return t.match(/[;\}\)\],]/)?h():h(w)}function C(t,e){return"operator"==t?/\+\+|--/.test(e)?d(C):"?"==e?d(w,y(":"),w):d(w):";"!=t?"("==t?d(g(")"),_(w,")"),v,C):"."==t?d(S,C):"["==t?d(g("]"),w,y("]"),v,C):void 0:void 0}function k(t){return":"==t?d(v,b):h(C,y(";"),v)}function S(t){return"variable"==t?(J.marked="property",d()):void 0}function T(t,e){if("variable"==t){if(J.marked="property","get"==e||"set"==e)return d(D)}else("number"==t||"string"==t)&&(J.marked=t+" property");return q.hasOwnProperty(t)?d(y(":"),w):void 0}function D(t){return":"==t?d(w):"variable"!=t?d(y(":"),w):(J.marked="property",d(F))}function _(t,e){function i(n){return","==n?d(t,i):n==e?d():d(y(e))}return function(n){return n==e?d():h(t,i)}}function M(t){return"}"==t?d():h(b,M)}function N(t){return":"==t?d(E):h()}function E(t){return"variable"==t?(J.marked="variable-3",d()):h()}function A(t,e){return"variable"==t?(p(e),U?d(N,L):d(L)):h()}function L(t,e){return"="==e?d(w,L):","==t?d(A):void 0}function O(t){return"var"==t?d(A,y(";"),P):d(";"==t?P:"variable"==t?j:P)}function j(t,e){return"in"==e?d(w):d(C,P)}function P(t,e){return";"==t?d(I):"in"==e?d(w):d(w,y(";"),I)}function I(t){")"!=t&&d(w)}function F(t,e){return"variable"==t?(p(e),d(F)):"("==t?d(g(")"),f,_($,")"),v,b,m):void 0}function $(t,e){return"variable"==t?(p(e),U?d(N):d()):void 0}var H,z,R=t.indentUnit,W=e.json,U=e.typescript,B=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),i=t("keyword b"),n=t("keyword c"),r=t("operator"),o={type:"atom",style:"atom"},s={"if":e,"while":e,"with":e,"else":i,"do":i,"try":i,"finally":i,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this")};if(U){var a={type:"variable",style:"variable-3"},l={"interface":t("interface"),"class":t("class"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),"super":t("super"),string:a,number:a,bool:a,any:a};for(var c in l)s[c]=l[c]}return s}(),V=/[+\-*&%=<>!?|~^]/,q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},J={state:null,column:null,marked:null,cc:null},Y={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(t){return{tokenize:o,lastType:null,cc:[],lexical:new l((t||0)-R,0,"block",!1),localVars:e.localVars,globalVars:e.globalVars,context:e.localVars&&{vars:e.localVars},indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==H?i:(e.lastType=H,u(e,i,H,z,t))},indent:function(t,e){if(t.tokenize==a)return CodeMirror.Pass;if(t.tokenize!=o)return 0;var i=e&&e.charAt(0),n=t.lexical;"stat"==n.type&&"}"==i&&(n=n.prev);var r=n.type,s=i==r;return"vardef"==r?n.indented+("operator"==t.lastType||","==t.lastType?4:0):"form"==r&&"{"==i?n.indented:"form"==r?n.indented+R:"stat"==r?n.indented+("operator"==t.lastType||","==t.lastType?R:0):"switch"!=n.info||s?n.align?n.column+(s?0:1):n.indented+(s?0:R):n.indented+(/^(?:case|default)\b/.test(e)?R:2*R)},electricChars:":{}",jsonMode:W}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("markdown",function(t,e){function i(t,e,i){return e.f=e.inline=i,i(t,e)}function n(t,e,i){return e.f=e.block=i,i(t,e)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,g||t.f!=s||(t.f=u,t.block=o),t.thisLineHasContent=!1,null}function o(t,r){var o=r.list!==!1;if(r.list!==!1&&r.indentationDiff>=0?(4>r.indentationDiff&&(r.indentation-=r.indentationDiff),r.list=null):r.list!==!1&&r.indentation>0?(r.list=null,r.listDepth=Math.floor(r.indentation/4)):r.list!==!1&&(r.list=!1,r.listDepth=0),r.indentationDiff>=4)return r.indentation-=4,t.skipToEnd(),C;if(t.eatSpace())return null;if("#"===t.peek()||r.prevLineHasContent&&t.match(z))r.header=!0;else if(t.eat(">"))for(r.indentation++,r.quote=1,t.eatSpace();t.eat(">");)t.eatSpace(),r.quote++;else{if("["===t.peek())return i(t,r,d);if(t.match(I,!0))return M;if(r.prevLineHasContent&&!o||!t.match(F,!0)&&!t.match($,!0)){if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return r.localMode=b(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),n(t,r,a),C}else r.indentation+=4,r.list=!0,r.listDepth++,e.taskLists&&t.match(H,!1)&&(r.taskList=!0)}return i(t,r,r.inline)}function s(t,e){var i=v.token(t,e.htmlState);return g&&"tag"===i&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=u,e.block=o),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=u,e.block=o,e.htmlState.context=void 0),i}function a(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=u,e.block=o,C):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),C)}function l(t){var e=[];if(t.taskOpen)return"meta";if(t.taskClosed)return"property";if(t.strong&&e.push(P),t.em&&e.push(j),t.linkText&&e.push(L),t.code&&e.push(C),t.header&&e.push(x),t.quote&&e.push(t.quote%2?k:S),t.list!==!1){var i=(t.listDepth-1)%3;e.push(i?1===i?D:_:T)}return e.length?e.join(" "):null}function c(t,e){return t.match(R,!0)?l(e):void 0}function u(t,r){var o=r.text(t,r);if(void 0!==o)return o;if(r.list)return r.list=null,l(r);if(r.taskList){var a="x"!==t.match(H,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,r.taskList=!1,l(r)}r.taskOpen=!1,r.taskClosed=!1;var c=t.next();if("\\"===c)return t.next(),l(r);if(r.linkTitle){r.linkTitle=!1;var u=c;"("===c&&(u=")"),u=(u+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var d="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(RegExp(d),!0))return O}if("`"===c){var p=l(r),f=t.pos;t.eatWhile("`");var g=1+t.pos-f;return r.code?g===w?(r.code=!1,p):l(r):(w=g,r.code=!0,l(r))}if(r.code)return l(r);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=h,N;if("["===c&&t.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,l(r);if("]"===c&&r.linkText){var v=l(r);return r.linkText=!1,r.inline=r.f=h,v}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!0))return i(t,r,m(E,">"));if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!0))return i(t,r,m(A,">"));if("<"===c&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var y=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(r.md_inside=!0)}return t.backUp(1),n(t,r,s)}if("<"===c&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var b=!1;if(!e.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var x=t.pos-2;if(x>=0){var C=t.string.charAt(x);"_"!==C&&C.match(/(\w)/,!1)&&(b=!0)}}var p=l(r);if("*"===c||"_"===c&&!b){if(r.strong===c&&t.eat(c))return r.strong=!1,p;if(!r.strong&&t.eat(c))return r.strong=c,l(r);if(r.em===c)return r.em=!1,p;if(!r.em)return r.em=c,l(r)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return l(r);t.backUp(1)}return l(r)}function h(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?i(t,e,m(O,"("===n?")":"]")):"error"}function d(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=p,L):i(t,e,u)}function p(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=u,O)}function f(t){return W[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),W[t]=RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),W[t]}function m(t,e,i){return i=i||u,function(n,r){return n.match(f(e)),r.inline=r.f=i,t}}var g=CodeMirror.mimeModes.hasOwnProperty("text/html"),v=CodeMirror.getMode(t,g?"text/html":"text/plain"),y={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},b=function(){var e,i,n={},r={},o=[];for(var s in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(s)&&o.push(s);for(e=0;o.length>e;e++)n[o[e]]=o[e];var a=[];for(var s in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(s)&&a.push({mime:s,mode:CodeMirror.mimeModes[s]});for(e=0;a.length>e;e++)i=a[e].mime,r[i]=a[e].mime;for(var l in y)(y[l]in n||y[l]in r)&&(n[l]=y[l]);return function(e){return n[e]?CodeMirror.getMode(t,n[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var w=0,x="header",C="comment",k="atom",S="number",T="variable-2",D="variable-3",_="keyword",M="hr",N="tag",E="link",A="link",L="link",O="string",j="em",P="strong",I=/^([*\-=_])(?:\s*\1){2,}\s*$/,F=/^[*\-+]\s+/,$=/^[0-9]+\.\s+/,H=/^\[(x| )\](?=\s)/,z=/^(?:\={1,}|-{1,})$/,R=/^[^!\[\]*_\\<>` "'(]+/,W=[];return{startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:CodeMirror.startState(v),indentation:0,inline:u,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:CodeMirror.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return e.prevLineHasContent=!1,r(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.header=!1,e.taskList=!1,e.code=!1,e.f=e.block;var i=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,n=4*Math.floor((i-e.indentation)/4);
n>4&&(n=4);var o=e.indentation+n;if(e.indentationDiff=o-e.indentation,e.indentation=o,i>0)return null}return e.f(t,e)},blankLine:r,getType:l}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.defineMode("xml",function(t,e){function i(t,e){function i(i){return e.tokenize=i,i(t,e)}var r=t.next();if("<"==r){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?i(o("atom","]]>")):null:t.match("--")?i(o("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(s(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";var a=t.eat("/");b="";for(var l;l=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)b+=l;return b?(w=a?"closeTag":"openTag",e.tokenize=n,"tag"):"error"}if("&"==r){var c;return c=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),c?"atom":"error"}return t.eatWhile(/[^&<]/),null}function n(t,e){var n=t.next();return">"==n||"/"==n&&t.eat(">")?(e.tokenize=i,w=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(w="equals",null):/[\'\"]/.test(n)?(e.tokenize=r(n),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function r(t){return function(e,i){for(;!e.eol();)if(e.next()==t){i.tokenize=n;break}return"string"}}function o(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=i;break}n.next()}return t}}function s(t){return function(e,n){for(var r;null!=(r=e.next());){if("<"==r)return n.tokenize=s(t+1),n.tokenize(e,n);if(">"==r){if(1==t){n.tokenize=i;break}return n.tokenize=s(t-1),n.tokenize(e,n)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)x.cc.push(arguments[t])}function l(){return a.apply(null,arguments),!0}function c(t,e){var i=D.doNotIndent.hasOwnProperty(t)||x.context&&x.context.noIndent;x.context={prev:x.context,tagName:t,indent:x.indented,startOfLine:e,noIndent:i}}function u(){x.context&&(x.context=x.context.prev)}function h(t){if("openTag"==t)return x.tagName=b,x.tagStart=C.column(),l(m,d(x.startOfLine));if("closeTag"==t){var e=!1;return x.context?x.context.tagName!=b&&(D.implicitlyClosed.hasOwnProperty(x.context.tagName.toLowerCase())&&u(),e=!x.context||x.context.tagName!=b):e=!0,e&&(k="error"),l(p(e))}return l()}function d(t){return function(e){var i=x.tagName;return x.tagName=x.tagStart=null,"selfcloseTag"==e||"endTag"==e&&D.autoSelfClosers.hasOwnProperty(i.toLowerCase())?(f(i.toLowerCase()),l()):"endTag"==e?(f(i.toLowerCase()),c(i,t),l()):l()}}function p(t){return function(e){return t&&(k="error"),"endTag"==e?(u(),l()):(k="error",l(arguments.callee))}}function f(t){for(var e;;){if(!x.context)return;if(e=x.context.tagName.toLowerCase(),!D.contextGrabbers.hasOwnProperty(e)||!D.contextGrabbers[e].hasOwnProperty(t))return;u()}}function m(t){return"word"==t?(k="attribute",l(g,m)):"endTag"==t||"selfcloseTag"==t?a():(k="error",l(m))}function g(t){return"equals"==t?l(v,m):(D.allowMissing?"word"==t&&(k="attribute"):k="error","endTag"==t||"selfcloseTag"==t?a():l())}function v(t){return"string"==t?l(y):"word"==t&&D.allowUnquoted?(k="string",l()):(k="error","endTag"==t||"selfCloseTag"==t?a():l())}function y(t){return"string"==t?l(y):a()}var b,w,x,C,k,S=t.indentUnit,T=e.multilineTagIndentFactor||1,D=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},_=e.alignCDATA;return{startState:function(){return{tokenize:i,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;k=w=b=null;var i=e.tokenize(t,e);if(e.type=w,(i||w)&&"comment"!=i)for(x=e,C=t;;){var n=e.cc.pop()||h;if(n(w||i))break}return e.startOfLine=!1,k||i},indent:function(t,e,r){var o=t.context;if(t.tokenize!=n&&t.tokenize!=i||o&&o.noIndent)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return t.tagStart+S*T;if(_&&/<!\[CDATA\[/.test(e))return 0;for(o&&/^<\//.test(e)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+S:0},electricChars:"/",configuration:e.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),function(){function t(t,r){var o=t.getCursor(),s=t.getTokenAt(o),a=CodeMirror.innerMode(t.getMode(),s.state),l=a.state;if("xml"!=a.mode.name)return CodeMirror.Pass;var c=t.getOption("autoCloseTags"),u="html"==a.mode.configuration,h="object"==typeof c&&c.dontCloseTags||u&&i,d="object"==typeof c&&c.indentTags||u&&n;if(">"==r&&l.tagName){var p=l.tagName;s.end>o.ch&&(p=p.slice(0,p.length-s.end+o.ch));var f=p.toLowerCase();if("tag"==s.type&&"closeTag"==l.type||s.string.indexOf("/")>-1||h&&e(h,f)>-1)return CodeMirror.Pass;var m=d&&e(d,f)>-1,g=m?CodeMirror.Pos(o.line+1,0):CodeMirror.Pos(o.line,o.ch+1);return t.replaceSelection(">"+(m?"\n\n":"")+"</"+p+">",{head:g,anchor:g}),void(m&&(t.indentLine(o.line+1),t.indentLine(o.line+2)))}if("/"==r&&"<"==s.string){var p=l.context&&l.context.tagName;return void(p&&t.replaceSelection("/"+p+">","end"))}return CodeMirror.Pass}function e(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;++i)if(t[i]==e)return i;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(e,i,n){if(!i||n!=CodeMirror.Init&&n)!i&&n!=CodeMirror.Init&&n&&e.removeKeyMap("autoCloseTags");else{var r={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(r["'/'"]=function(e){return t(e,"/")}),("object"!=typeof i||i.whenOpening)&&(r["'>'"]=function(e){return t(e,">")}),e.addKeyMap(r)}});var i=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"]}();